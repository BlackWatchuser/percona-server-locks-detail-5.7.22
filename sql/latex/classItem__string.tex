\hypertarget{classItem__string}{}\section{Item\+\_\+string Class Reference}
\label{classItem__string}\index{Item\+\_\+string@{Item\+\_\+string}}
Inheritance diagram for Item\+\_\+string\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.889764cm]{classItem__string}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classItem__string_a101c072524f73ffb3e09afa8188e13ad}\label{classItem__string_a101c072524f73ffb3e09afa8188e13ad}} 
{\bfseries Item\+\_\+string} (const char $\ast$str, size\+\_\+t length, const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$cs, Derivation dv=D\+E\+R\+I\+V\+A\+T\+I\+O\+N\+\_\+\+C\+O\+E\+R\+C\+I\+B\+LE, uint repertoire=M\+Y\+\_\+\+R\+E\+P\+E\+R\+T\+O\+I\+R\+E\+\_\+\+U\+N\+I\+C\+O\+D\+E30)
\item 
\mbox{\Hypertarget{classItem__string_a048ae679d7ae03857a308f6bc1a9d922}\label{classItem__string_a048ae679d7ae03857a308f6bc1a9d922}} 
{\bfseries Item\+\_\+string} (const \mbox{\hyperlink{structYYLTYPE}{P\+OS}} \&pos, const char $\ast$str, size\+\_\+t length, const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$cs, Derivation dv=D\+E\+R\+I\+V\+A\+T\+I\+O\+N\+\_\+\+C\+O\+E\+R\+C\+I\+B\+LE, uint repertoire=M\+Y\+\_\+\+R\+E\+P\+E\+R\+T\+O\+I\+R\+E\+\_\+\+U\+N\+I\+C\+O\+D\+E30)
\item 
\mbox{\Hypertarget{classItem__string_a26a7316d05a8bc2b499d1e03c6d243a2}\label{classItem__string_a26a7316d05a8bc2b499d1e03c6d243a2}} 
{\bfseries Item\+\_\+string} (const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$cs, Derivation dv=D\+E\+R\+I\+V\+A\+T\+I\+O\+N\+\_\+\+C\+O\+E\+R\+C\+I\+B\+LE)
\item 
\mbox{\Hypertarget{classItem__string_a8e98676c5bb5bf10c5b844468650c1e3}\label{classItem__string_a8e98676c5bb5bf10c5b844468650c1e3}} 
{\bfseries Item\+\_\+string} (const \mbox{\hyperlink{className__string}{Name\+\_\+string}} name\+\_\+par, const char $\ast$str, size\+\_\+t length, const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$cs, Derivation dv=D\+E\+R\+I\+V\+A\+T\+I\+O\+N\+\_\+\+C\+O\+E\+R\+C\+I\+B\+LE, uint repertoire=M\+Y\+\_\+\+R\+E\+P\+E\+R\+T\+O\+I\+R\+E\+\_\+\+U\+N\+I\+C\+O\+D\+E30)
\item 
\mbox{\Hypertarget{classItem__string_aafe6d5281958199797d720f7e208fc2b}\label{classItem__string_aafe6d5281958199797d720f7e208fc2b}} 
{\bfseries Item\+\_\+string} (const \mbox{\hyperlink{structYYLTYPE}{P\+OS}} \&pos, const \mbox{\hyperlink{className__string}{Name\+\_\+string}} name\+\_\+par, const char $\ast$str, size\+\_\+t length, const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$cs, Derivation dv=D\+E\+R\+I\+V\+A\+T\+I\+O\+N\+\_\+\+C\+O\+E\+R\+C\+I\+B\+LE, uint repertoire=M\+Y\+\_\+\+R\+E\+P\+E\+R\+T\+O\+I\+R\+E\+\_\+\+U\+N\+I\+C\+O\+D\+E30)
\item 
\mbox{\Hypertarget{classItem__string_a8991f3201af3ec081a7a43dcc2829b8b}\label{classItem__string_a8991f3201af3ec081a7a43dcc2829b8b}} 
{\bfseries Item\+\_\+string} (const \mbox{\hyperlink{structYYLTYPE}{P\+OS}} \&pos, const \mbox{\hyperlink{className__string}{Name\+\_\+string}} name\+\_\+par, const L\+E\+X\+\_\+\+S\+T\+R\+I\+NG \&literal, const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$cs, Derivation dv=D\+E\+R\+I\+V\+A\+T\+I\+O\+N\+\_\+\+C\+O\+E\+R\+C\+I\+B\+LE, uint repertoire=M\+Y\+\_\+\+R\+E\+P\+E\+R\+T\+O\+I\+R\+E\+\_\+\+U\+N\+I\+C\+O\+D\+E30)
\item 
\mbox{\Hypertarget{classItem__string_aa5f770cd19040c27f2a524e97c6116ca}\label{classItem__string_aa5f770cd19040c27f2a524e97c6116ca}} 
void {\bfseries set\+\_\+str\+\_\+with\+\_\+copy} (const char $\ast$str\+\_\+arg, uint length\+\_\+arg)
\item 
\mbox{\Hypertarget{classItem__string_ab46866fec9f2e9996279c9ecfa1d86af}\label{classItem__string_ab46866fec9f2e9996279c9ecfa1d86af}} 
void {\bfseries set\+\_\+repertoire\+\_\+from\+\_\+value} ()
\item 
\mbox{\Hypertarget{classItem__string_acb40f3fc60ee1941259c28e1d9789d06}\label{classItem__string_acb40f3fc60ee1941259c28e1d9789d06}} 
enum Type {\bfseries type} () const
\item 
\mbox{\Hypertarget{classItem__string_a4961a054a19d4f5629fafcb324d1225a}\label{classItem__string_a4961a054a19d4f5629fafcb324d1225a}} 
double {\bfseries val\+\_\+real} ()
\item 
longlong \mbox{\hyperlink{classItem__string_a4226f4dfd6a0c9eb1b97c33da0b3db78}{val\+\_\+int}} ()
\item 
\mbox{\Hypertarget{classItem__string_a1802ccd4f10b0bba148ecac31c4f18dc}\label{classItem__string_a1802ccd4f10b0bba148ecac31c4f18dc}} 
String $\ast$ {\bfseries val\+\_\+str} (String $\ast$)
\item 
\mbox{\Hypertarget{classItem__string_ae47af816399ee4ab8e9a9fbb95a98d1f}\label{classItem__string_ae47af816399ee4ab8e9a9fbb95a98d1f}} 
\mbox{\hyperlink{classmy__decimal}{my\+\_\+decimal}} $\ast$ {\bfseries val\+\_\+decimal} (\mbox{\hyperlink{classmy__decimal}{my\+\_\+decimal}} $\ast$)
\item 
\mbox{\Hypertarget{classItem__string_a8c76141b899f3e8d54a20063f6779e9b}\label{classItem__string_a8c76141b899f3e8d54a20063f6779e9b}} 
bool {\bfseries get\+\_\+date} (M\+Y\+S\+Q\+L\+\_\+\+T\+I\+ME $\ast$ltime, my\+\_\+time\+\_\+flags\+\_\+t fuzzydate)
\item 
\mbox{\Hypertarget{classItem__string_a6aacbd56b46740856c348f725645027c}\label{classItem__string_a6aacbd56b46740856c348f725645027c}} 
bool {\bfseries get\+\_\+time} (M\+Y\+S\+Q\+L\+\_\+\+T\+I\+ME $\ast$ltime)
\item 
\mbox{\Hypertarget{classItem__string_a778fecba71e6736474948a7a75d4195b}\label{classItem__string_a778fecba71e6736474948a7a75d4195b}} 
enum Item\+\_\+result {\bfseries result\+\_\+type} () const
\item 
\mbox{\Hypertarget{classItem__string_a5fa1eb8ac7531160ab1ab5c08d690b97}\label{classItem__string_a5fa1eb8ac7531160ab1ab5c08d690b97}} 
enum\+\_\+field\+\_\+types {\bfseries field\+\_\+type} () const
\item 
\mbox{\Hypertarget{classItem__string_afb44073ffd9ba7e9b13b23db2ce158d9}\label{classItem__string_afb44073ffd9ba7e9b13b23db2ce158d9}} 
bool {\bfseries basic\+\_\+const\+\_\+item} () const
\item 
bool \mbox{\hyperlink{classItem__string_abe8d23ca4b542969781ed21793fe96e5}{eq}} (const \mbox{\hyperlink{classItem}{Item}} $\ast$item, bool binary\+\_\+cmp) const
\item 
\mbox{\Hypertarget{classItem__string_acaa44527c9cdfe347cd7428e71174544}\label{classItem__string_acaa44527c9cdfe347cd7428e71174544}} 
\mbox{\hyperlink{classItem}{Item}} $\ast$ {\bfseries clone\+\_\+item} ()
\item 
\mbox{\Hypertarget{classItem__string_ae2116e1f5af63738365be4604c6e4726}\label{classItem__string_ae2116e1f5af63738365be4604c6e4726}} 
\mbox{\hyperlink{classItem}{Item}} $\ast$ {\bfseries safe\+\_\+charset\+\_\+converter} (const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$tocs)
\item 
\mbox{\hyperlink{classItem}{Item}} $\ast$ \mbox{\hyperlink{classItem__string_aa4c57929e17aaf021d8d31bf4d61a994}{charset\+\_\+converter}} (const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$tocs, bool lossless)
\item 
\mbox{\Hypertarget{classItem__string_a2a4df5e7fd06b871d0d733a408a3746b}\label{classItem__string_a2a4df5e7fd06b871d0d733a408a3746b}} 
void {\bfseries append} (char $\ast$str, size\+\_\+t length)
\item 
virtual void \mbox{\hyperlink{classItem__string_a4d6fccdca40394df6239ca7dfbb9bb09}{print}} (String $\ast$str, enum\+\_\+query\+\_\+type query\+\_\+type)
\item 
\mbox{\Hypertarget{classItem__string_aabc71b5a7e0321727327d285ea8ab4c8}\label{classItem__string_aabc71b5a7e0321727327d285ea8ab4c8}} 
bool {\bfseries check\+\_\+partition\+\_\+func\+\_\+processor} (uchar $\ast$int\+\_\+arg)
\item 
bool \mbox{\hyperlink{classItem__string_a1f29a4504141f987ed2df80187fd4749}{is\+\_\+cs\+\_\+specified}} () const
\item 
void \mbox{\hyperlink{classItem__string_a13e88d867e7492fd75a5fae20ec244e5}{set\+\_\+cs\+\_\+specified}} (bool cs\+\_\+specified)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classItem__string_a291d8b0bf5de46c335648eb7e9f03c4b}\label{classItem__string_a291d8b0bf5de46c335648eb7e9f03c4b}} 
{\bfseries Item\+\_\+string} (const \mbox{\hyperlink{structYYLTYPE}{P\+OS}} \&pos)
\item 
\mbox{\Hypertarget{classItem__string_a39207bf2b85a99fbe28c8c5094d6929d}\label{classItem__string_a39207bf2b85a99fbe28c8c5094d6929d}} 
void {\bfseries init} (const char $\ast$str, size\+\_\+t length, const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$cs, Derivation dv, uint repertoire)
\item 
type\+\_\+conversion\+\_\+status \mbox{\hyperlink{classItem__string_aafcfb45c5e610f75790ea91fded1dcc7}{save\+\_\+in\+\_\+field\+\_\+inner}} (\mbox{\hyperlink{classField}{Field}} $\ast$field, bool no\+\_\+conversions)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classItem__string_aa4c57929e17aaf021d8d31bf4d61a994}\label{classItem__string_aa4c57929e17aaf021d8d31bf4d61a994}} 
\index{Item\+\_\+string@{Item\+\_\+string}!charset\+\_\+converter@{charset\+\_\+converter}}
\index{charset\+\_\+converter@{charset\+\_\+converter}!Item\+\_\+string@{Item\+\_\+string}}
\subsubsection{\texorpdfstring{charset\+\_\+converter()}{charset\_converter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classItem}{Item}} $\ast$ Item\+\_\+string\+::charset\+\_\+converter (\begin{DoxyParamCaption}\item[{const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$}]{tocs,  }\item[{bool}]{lossless }\end{DoxyParamCaption})}

Convert a string item into the requested character set.


\begin{DoxyParams}{Parameters}
{\em tocs} & Character set to to convert the string to. \\
\hline
{\em lossless} & Whether data loss is acceptable.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A new item representing the converted string. 
\end{DoxyReturn}
\mbox{\Hypertarget{classItem__string_abe8d23ca4b542969781ed21793fe96e5}\label{classItem__string_abe8d23ca4b542969781ed21793fe96e5}} 
\index{Item\+\_\+string@{Item\+\_\+string}!eq@{eq}}
\index{eq@{eq}!Item\+\_\+string@{Item\+\_\+string}}
\subsubsection{\texorpdfstring{eq()}{eq()}}
{\footnotesize\ttfamily bool Item\+\_\+string\+::eq (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classItem}{Item}} $\ast$}]{item,  }\item[{bool}]{binary\+\_\+cmp }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

This function is called when\+:
\begin{DoxyItemize}
\item Comparing items in the W\+H\+E\+RE clause (when doing where optimization)
\item When trying to find an O\+R\+D\+ER B\+Y/\+G\+R\+O\+UP BY item in the S\+E\+L\+E\+CT part
\item When matching fields in multiple equality objects (Item\+\_\+equal) 
\end{DoxyItemize}

Reimplemented from \mbox{\hyperlink{classItem_af0957bbdb9a256de0cd29f1adcae28be}{Item}}.

\mbox{\Hypertarget{classItem__string_a1f29a4504141f987ed2df80187fd4749}\label{classItem__string_a1f29a4504141f987ed2df80187fd4749}} 
\index{Item\+\_\+string@{Item\+\_\+string}!is\+\_\+cs\+\_\+specified@{is\+\_\+cs\+\_\+specified}}
\index{is\+\_\+cs\+\_\+specified@{is\+\_\+cs\+\_\+specified}!Item\+\_\+string@{Item\+\_\+string}}
\subsubsection{\texorpdfstring{is\+\_\+cs\+\_\+specified()}{is\_cs\_specified()}}
{\footnotesize\ttfamily bool Item\+\_\+string\+::is\+\_\+cs\+\_\+specified (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return T\+R\+UE if character-\/set-\/introducer was explicitly specified in the original query for this item (text literal).

This operation is to be called from \mbox{\hyperlink{classItem__string_a4d6fccdca40394df6239ca7dfbb9bb09}{Item\+\_\+string\+::print()}}. The idea is that when a query is generated (re-\/constructed) from the \mbox{\hyperlink{classItem}{Item}}-\/tree, character-\/set-\/introducers should appear only for those literals, where they were explicitly specified by the user. Otherwise, that may lead to loss collation information (character set introducers implies default collation for the literal).

Basically, that makes sense only for views and hopefully will be gone one day when we start using original query as a view definition.

\begin{DoxyReturn}{Returns}
This operation returns the value of m\+\_\+cs\+\_\+specified attribute. 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em T\+R\+UE} & if character set introducer was explicitly specified in the original query. \\
\hline
{\em F\+A\+L\+SE} & otherwise. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{classItem__string_a4d6fccdca40394df6239ca7dfbb9bb09}\label{classItem__string_a4d6fccdca40394df6239ca7dfbb9bb09}} 
\index{Item\+\_\+string@{Item\+\_\+string}!print@{print}}
\index{print@{print}!Item\+\_\+string@{Item\+\_\+string}}
\subsubsection{\texorpdfstring{print()}{print()}}
{\footnotesize\ttfamily void Item\+\_\+string\+::print (\begin{DoxyParamCaption}\item[{String $\ast$}]{str,  }\item[{enum\+\_\+query\+\_\+type}]{query\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\begin{DoxySeeAlso}{See also}
enum\+\_\+query\+\_\+type. For us to be able to \mbox{\hyperlink{classItem__string_a4d6fccdca40394df6239ca7dfbb9bb09}{print}} a query (in debugging, optimizer trace, E\+X\+P\+L\+A\+IN E\+X\+T\+E\+N\+D\+ED) without changing the query\textquotesingle{}s result, this function must not modify the item\textquotesingle{}s content. Not even a realloc() of str\+\_\+value is permitted\+: Item\+\_\+func\+\_\+concat/repeat/encode\+::val\+\_\+str() depend on the allocated length; a change of this length can influence results of C\+O\+N\+C\+A\+T(), R\+E\+P\+E\+A\+T(), E\+N\+C\+O\+D\+E()... 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{classItem_aa7ba4bde739d83adec8edf3bf1596d94}{Item}}.



Reimplemented in \mbox{\hyperlink{classItem__static__string__func_a592a40880113216f223f6c484622ac0d}{Item\+\_\+static\+\_\+string\+\_\+func}}.

\mbox{\Hypertarget{classItem__string_aafcfb45c5e610f75790ea91fded1dcc7}\label{classItem__string_aafcfb45c5e610f75790ea91fded1dcc7}} 
\index{Item\+\_\+string@{Item\+\_\+string}!save\+\_\+in\+\_\+field\+\_\+inner@{save\+\_\+in\+\_\+field\+\_\+inner}}
\index{save\+\_\+in\+\_\+field\+\_\+inner@{save\+\_\+in\+\_\+field\+\_\+inner}!Item\+\_\+string@{Item\+\_\+string}}
\subsubsection{\texorpdfstring{save\+\_\+in\+\_\+field\+\_\+inner()}{save\_in\_field\_inner()}}
{\footnotesize\ttfamily type\+\_\+conversion\+\_\+status Item\+\_\+string\+::save\+\_\+in\+\_\+field\+\_\+inner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classField}{Field}} $\ast$}]{field,  }\item[{bool}]{no\+\_\+conversions }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Helper function which does all of the work for \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field(\+Field$\ast$, bool)}}, except some error checking common to all subclasses, which is performed by \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}} itself.

Subclasses that need to specialize the behaviour of \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}}, should override this function instead of \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em field} & the field to save the item into \\
\hline
 & {\em no\+\_\+conversions} & whether or not to allow conversions of the value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the status from saving into the field 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em T\+Y\+P\+E\+\_\+\+OK} & item saved without any errors or warnings \\
\hline
{\em !=} & T\+Y\+P\+E\+\_\+\+OK there were errors or warnings when saving the item \\
\hline
\end{DoxyRetVals}


Reimplemented from \mbox{\hyperlink{classItem_a463ded5f3c21ed2508dd8fddc6024722}{Item}}.

\mbox{\Hypertarget{classItem__string_a13e88d867e7492fd75a5fae20ec244e5}\label{classItem__string_a13e88d867e7492fd75a5fae20ec244e5}} 
\index{Item\+\_\+string@{Item\+\_\+string}!set\+\_\+cs\+\_\+specified@{set\+\_\+cs\+\_\+specified}}
\index{set\+\_\+cs\+\_\+specified@{set\+\_\+cs\+\_\+specified}!Item\+\_\+string@{Item\+\_\+string}}
\subsubsection{\texorpdfstring{set\+\_\+cs\+\_\+specified()}{set\_cs\_specified()}}
{\footnotesize\ttfamily void Item\+\_\+string\+::set\+\_\+cs\+\_\+specified (\begin{DoxyParamCaption}\item[{bool}]{cs\+\_\+specified }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the value of m\+\_\+cs\+\_\+specified attribute.

m\+\_\+cs\+\_\+specified attribute shows whether character-\/set-\/introducer was explicitly specified in the original query for this text literal or not. The attribute makes sense (is used) only for views.

This operation is to be called from the parser during parsing an input query. \mbox{\Hypertarget{classItem__string_a4226f4dfd6a0c9eb1b97c33da0b3db78}\label{classItem__string_a4226f4dfd6a0c9eb1b97c33da0b3db78}} 
\index{Item\+\_\+string@{Item\+\_\+string}!val\+\_\+int@{val\+\_\+int}}
\index{val\+\_\+int@{val\+\_\+int}!Item\+\_\+string@{Item\+\_\+string}}
\subsubsection{\texorpdfstring{val\+\_\+int()}{val\_int()}}
{\footnotesize\ttfamily longlong Item\+\_\+string\+::val\+\_\+int (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000027}{Todo}}]Give error if we wanted a signed integer and we got an unsigned one \end{DoxyRefDesc}


Implements \mbox{\hyperlink{classItem}{Item}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
item.\+h\item 
item.\+cc\end{DoxyCompactItemize}
