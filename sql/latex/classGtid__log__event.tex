\hypertarget{classGtid__log__event}{}\section{Gtid\+\_\+log\+\_\+event Class Reference}
\label{classGtid__log__event}\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}


{\ttfamily \#include $<$log\+\_\+event.\+h$>$}

Inheritance diagram for Gtid\+\_\+log\+\_\+event\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classGtid__log__event}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classGtid__log__event_af44a16a9c57f246d7b24ceae5fd6e12d}{Gtid\+\_\+log\+\_\+event}} (T\+HD $\ast$thd\+\_\+arg, bool using\+\_\+trans, int64 last\+\_\+committed\+\_\+arg, int64 sequence\+\_\+number\+\_\+arg, bool may\+\_\+have\+\_\+sbr\+\_\+stmts\+\_\+arg)
\item 
\mbox{\hyperlink{classGtid__log__event_ab403082853928b5d966f92a1390852f5}{Gtid\+\_\+log\+\_\+event}} (uint32 server\+\_\+id\+\_\+arg, bool using\+\_\+trans, int64 last\+\_\+committed\+\_\+arg, int64 sequence\+\_\+number\+\_\+arg, bool may\+\_\+have\+\_\+sbr\+\_\+stmts\+\_\+arg, const \mbox{\hyperlink{structGtid__specification}{Gtid\+\_\+specification}} spec\+\_\+arg)
\item 
\mbox{\Hypertarget{classGtid__log__event_abb55d88b8171f40a4302f615ceca12a3}\label{classGtid__log__event_abb55d88b8171f40a4302f615ceca12a3}} 
int {\bfseries pack\+\_\+info} (\mbox{\hyperlink{classProtocol}{Protocol}} $\ast$)
\item 
\mbox{\Hypertarget{classGtid__log__event_a5543d02614f5fb7bf7dd24778d03e6a2}\label{classGtid__log__event_a5543d02614f5fb7bf7dd24778d03e6a2}} 
{\bfseries Gtid\+\_\+log\+\_\+event} (const char $\ast$buffer, uint event\+\_\+len, const Format\+\_\+description\+\_\+event $\ast$description\+\_\+event)
\item 
\mbox{\Hypertarget{classGtid__log__event_a5f3ec2096a1e50b223614345af452631}\label{classGtid__log__event_a5f3ec2096a1e50b223614345af452631}} 
size\+\_\+t {\bfseries get\+\_\+data\+\_\+size} ()
\item 
enum\+\_\+group\+\_\+type \mbox{\hyperlink{classGtid__log__event_a3618edb29b6de3fb20a330e6ca5e8e74}{get\+\_\+type}} () const
\item 
const rpl\+\_\+sid $\ast$ \mbox{\hyperlink{classGtid__log__event_a8bd269465a18073057041ecbd7253127}{get\+\_\+sid}} () const
\item 
rpl\+\_\+sidno \mbox{\hyperlink{classGtid__log__event_a0dfb533b61b71021ccf787b5be301a94}{get\+\_\+sidno}} (bool need\+\_\+lock)
\item 
rpl\+\_\+sidno \mbox{\hyperlink{classGtid__log__event_a7786bb44cd2aefec109e3bd09d705dcf}{get\+\_\+sidno}} (\mbox{\hyperlink{classSid__map}{Sid\+\_\+map}} $\ast$sid\+\_\+map)
\item 
\mbox{\Hypertarget{classGtid__log__event_a7f8e45f12601f4874a37af94fe9ae05a}\label{classGtid__log__event_a7f8e45f12601f4874a37af94fe9ae05a}} 
rpl\+\_\+gno \mbox{\hyperlink{classGtid__log__event_a7f8e45f12601f4874a37af94fe9ae05a}{get\+\_\+gno}} () const
\begin{DoxyCompactList}\small\item\em Return the G\+NO for this G\+T\+ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classGtid__log__event_a9e32625b6dc8b312f6de7d59b78a1c23}\label{classGtid__log__event_a9e32625b6dc8b312f6de7d59b78a1c23}} 
static const char $\ast$ \mbox{\hyperlink{classGtid__log__event_a9e32625b6dc8b312f6de7d59b78a1c23}{S\+E\+T\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+P\+R\+E\+F\+IX}} = \char`\"{}S\+ET @@S\+E\+S\+S\+I\+O\+N.\+G\+T\+I\+D\+\_\+\+N\+E\+XT= \textquotesingle{}\char`\"{}
\begin{DoxyCompactList}\small\item\em string holding the text \char`\"{}\+S\+E\+T @@\+G\+L\+O\+B\+A\+L.\+G\+T\+I\+D\+\_\+\+N\+E\+X\+T = \textquotesingle{}\char`\"{} \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This is a subclass if Gtid\+\_\+event and \mbox{\hyperlink{classLog__event}{Log\+\_\+event}}. It contains per-\/transaction fields, including the G\+T\+ID and logical timestamps used by M\+TS. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classGtid__log__event_af44a16a9c57f246d7b24ceae5fd6e12d}\label{classGtid__log__event_af44a16a9c57f246d7b24ceae5fd6e12d}} 
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\subsubsection{\texorpdfstring{Gtid\+\_\+log\+\_\+event()}{Gtid\_log\_event()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Gtid\+\_\+log\+\_\+event\+::\+Gtid\+\_\+log\+\_\+event (\begin{DoxyParamCaption}\item[{T\+HD $\ast$}]{thd\+\_\+arg,  }\item[{bool}]{using\+\_\+trans,  }\item[{int64}]{last\+\_\+committed\+\_\+arg,  }\item[{int64}]{sequence\+\_\+number\+\_\+arg,  }\item[{bool}]{may\+\_\+have\+\_\+sbr\+\_\+stmts\+\_\+arg }\end{DoxyParamCaption})}

Create a new event using the G\+T\+ID owned by the given thread. \mbox{\Hypertarget{classGtid__log__event_ab403082853928b5d966f92a1390852f5}\label{classGtid__log__event_ab403082853928b5d966f92a1390852f5}} 
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\subsubsection{\texorpdfstring{Gtid\+\_\+log\+\_\+event()}{Gtid\_log\_event()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Gtid\+\_\+log\+\_\+event\+::\+Gtid\+\_\+log\+\_\+event (\begin{DoxyParamCaption}\item[{uint32}]{server\+\_\+id\+\_\+arg,  }\item[{bool}]{using\+\_\+trans,  }\item[{int64}]{last\+\_\+committed\+\_\+arg,  }\item[{int64}]{sequence\+\_\+number\+\_\+arg,  }\item[{bool}]{may\+\_\+have\+\_\+sbr\+\_\+stmts\+\_\+arg,  }\item[{const \mbox{\hyperlink{structGtid__specification}{Gtid\+\_\+specification}}}]{spec\+\_\+arg }\end{DoxyParamCaption})}

Create a new event using the G\+T\+ID from the given \mbox{\hyperlink{structGtid__specification}{Gtid\+\_\+specification}} without a T\+HD object. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classGtid__log__event_a8bd269465a18073057041ecbd7253127}\label{classGtid__log__event_a8bd269465a18073057041ecbd7253127}} 
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!get\+\_\+sid@{get\+\_\+sid}}
\index{get\+\_\+sid@{get\+\_\+sid}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\subsubsection{\texorpdfstring{get\+\_\+sid()}{get\_sid()}}
{\footnotesize\ttfamily const rpl\+\_\+sid$\ast$ Gtid\+\_\+log\+\_\+event\+::get\+\_\+sid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the S\+ID for this G\+T\+ID. The S\+ID is shared with the \mbox{\hyperlink{classLog__event}{Log\+\_\+event}} so it should not be modified. \mbox{\Hypertarget{classGtid__log__event_a0dfb533b61b71021ccf787b5be301a94}\label{classGtid__log__event_a0dfb533b61b71021ccf787b5be301a94}} 
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!get\+\_\+sidno@{get\+\_\+sidno}}
\index{get\+\_\+sidno@{get\+\_\+sidno}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\subsubsection{\texorpdfstring{get\+\_\+sidno()}{get\_sidno()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily rpl\+\_\+sidno Gtid\+\_\+log\+\_\+event\+::get\+\_\+sidno (\begin{DoxyParamCaption}\item[{bool}]{need\+\_\+lock }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return the S\+I\+D\+NO relative to the global sid\+\_\+map for this G\+T\+ID.

This requires a lookup and possibly even update of global\+\_\+sid\+\_\+map, hence global\+\_\+sid\+\_\+lock must be held. If global\+\_\+sid\+\_\+lock is not held, the caller must pass need\+\_\+lock=true. If there is an error (e.\+g. out of memory) while updating global\+\_\+sid\+\_\+map, this function returns a negative number.


\begin{DoxyParams}{Parameters}
{\em need\+\_\+lock} & If true, the read lock on global\+\_\+sid\+\_\+lock is acquired and released inside this function; if false, the read lock or write lock must be held prior to calling this function. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em S\+I\+D\+NO} & if successful \\
\hline
{\em negative} & if adding S\+ID to global\+\_\+sid\+\_\+map causes an error. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{classGtid__log__event_a7786bb44cd2aefec109e3bd09d705dcf}\label{classGtid__log__event_a7786bb44cd2aefec109e3bd09d705dcf}} 
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!get\+\_\+sidno@{get\+\_\+sidno}}
\index{get\+\_\+sidno@{get\+\_\+sidno}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\subsubsection{\texorpdfstring{get\+\_\+sidno()}{get\_sidno()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily rpl\+\_\+sidno Gtid\+\_\+log\+\_\+event\+::get\+\_\+sidno (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classSid__map}{Sid\+\_\+map}} $\ast$}]{sid\+\_\+map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return the S\+I\+D\+NO relative to the given \mbox{\hyperlink{classSid__map}{Sid\+\_\+map}} for this G\+T\+ID.

This assumes that the \mbox{\hyperlink{classSid__map}{Sid\+\_\+map}} is local to the thread, and thus does not use locks.


\begin{DoxyParams}{Parameters}
{\em sid\+\_\+map} & The sid\+\_\+map to use. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em S\+I\+D\+NO} & if successful. \\
\hline
{\em negative} & if adding S\+ID to sid\+\_\+map causes an error. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{classGtid__log__event_a3618edb29b6de3fb20a330e6ca5e8e74}\label{classGtid__log__event_a3618edb29b6de3fb20a330e6ca5e8e74}} 
\index{Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}!get\+\_\+type@{get\+\_\+type}}
\index{get\+\_\+type@{get\+\_\+type}!Gtid\+\_\+log\+\_\+event@{Gtid\+\_\+log\+\_\+event}}
\subsubsection{\texorpdfstring{get\+\_\+type()}{get\_type()}}
{\footnotesize\ttfamily enum\+\_\+group\+\_\+type Gtid\+\_\+log\+\_\+event\+::get\+\_\+type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the group type for this \mbox{\hyperlink{classGtid__log__event}{Gtid\+\_\+log\+\_\+event}}\+: this can be either A\+N\+O\+N\+Y\+M\+O\+U\+S\+\_\+\+G\+R\+O\+UP, A\+U\+T\+O\+M\+A\+T\+I\+C\+\_\+\+G\+R\+O\+UP, or G\+T\+I\+D\+\_\+\+G\+R\+O\+UP. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{log__event_8h}{log\+\_\+event.\+h}}\item 
log\+\_\+event.\+cc\end{DoxyCompactItemize}
