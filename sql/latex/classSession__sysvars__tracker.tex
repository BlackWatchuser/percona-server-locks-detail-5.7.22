\hypertarget{classSession__sysvars__tracker}{}\section{Session\+\_\+sysvars\+\_\+tracker Class Reference}
\label{classSession__sysvars__tracker}\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
Inheritance diagram for Session\+\_\+sysvars\+\_\+tracker\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classSession__sysvars__tracker}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSession__sysvars__tracker_a17daba98568ee2911733480813d9f541}{Session\+\_\+sysvars\+\_\+tracker}} (const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$char\+\_\+set)
\item 
\mbox{\hyperlink{classSession__sysvars__tracker_a0f236f107c187d9b04ade54c8d637d10}{$\sim$\+Session\+\_\+sysvars\+\_\+tracker}} ()
\item 
void \mbox{\hyperlink{classSession__sysvars__tracker_a1b134fe57695e59ddef1d20ab2044036}{reset}} ()
\begin{DoxyCompactList}\small\item\em Prepare/reset the m\+\_\+registered\+\_\+sysvars hash for next statement. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSession__sysvars__tracker_abe0b7f50ef4c4e269a077f7784d2ce28}{enable}} (T\+HD $\ast$thd)
\begin{DoxyCompactList}\small\item\em It is responsible for enabling this tracker when a session starts. During the initialization, a session\textquotesingle{}s system variable gets a copy of the global variable. The new value of session\+\_\+track\+\_\+system\+\_\+variables is then verified \& tokenized to create a hash, which is then updated to orig\+\_\+list which represents all the systems variables to be tracked. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSession__sysvars__tracker_a8e2849a2c33fbbfcd81243d8d44fea6f}{check}} (T\+HD $\ast$thd, \mbox{\hyperlink{classset__var}{set\+\_\+var}} $\ast$var)
\begin{DoxyCompactList}\small\item\em Check if any of the system variable name(s) in the given list of system variables is duplicate/invalid. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSession__sysvars__tracker_a82607e850253dec7382bc49425179074}{update}} (T\+HD $\ast$thd)
\begin{DoxyCompactList}\small\item\em Once the value of the @session\+\_\+track\+\_\+system\+\_\+variables has been successfully updated, this function calls Session\+\_\+sysvars\+\_\+tracker\+::vars\+\_\+list\+::update updating the hash in orig\+\_\+list which represents the system variables to be tracked. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSession__sysvars__tracker_a518ef2f3fae3c779cf182a391683b22e}{store}} (T\+HD $\ast$thd, String \&buf)
\begin{DoxyCompactList}\small\item\em Store the data for changed system variables in the specified buffer. Once the data is stored, we reset the flags related to state-\/change (see \mbox{\hyperlink{classSession__sysvars__tracker_a1b134fe57695e59ddef1d20ab2044036}{reset()}}). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSession__sysvars__tracker_adeca89d5fa8be0279ec522c7afd8fcae}{mark\+\_\+as\+\_\+changed}} (T\+HD $\ast$thd, L\+E\+X\+\_\+\+C\+S\+T\+R\+I\+NG $\ast$tracked\+\_\+item\+\_\+name)
\begin{DoxyCompactList}\small\item\em Mark the system variable with the specified name as changed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSession__sysvars__tracker_a3fe9b6e076c359805d56957195551f65}\label{classSession__sysvars__tracker_a3fe9b6e076c359805d56957195551f65}} 
virtual void {\bfseries claim\+\_\+memory\+\_\+ownership} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classSession__sysvars__tracker_a53ed673ab98982fd3dd55dea54d0b61c}{server\+\_\+init\+\_\+check}} (const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$char\+\_\+set, L\+E\+X\+\_\+\+S\+T\+R\+I\+NG var\+\_\+list)
\item 
static uchar $\ast$ \mbox{\hyperlink{classSession__sysvars__tracker_a379d5a9d10ca357f185984cf6bbf8509}{sysvars\+\_\+get\+\_\+key}} (const char $\ast$entry, size\+\_\+t $\ast$length, my\+\_\+bool not\+\_\+used M\+Y\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE((unused)))
\begin{DoxyCompactList}\small\item\em Supply key to the hash implementation (to be used internally by the implementation). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\subsubsection*{\mbox{\hyperlink{classSession__sysvars__tracker}{Session\+\_\+sysvars\+\_\+tracker}} }

This is a tracker class that enables \& manages the tracking of session system variables. It internally maintains a hash of user supplied variable names and a boolean field to store if the variable was changed by the last statement. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classSession__sysvars__tracker_a17daba98568ee2911733480813d9f541}\label{classSession__sysvars__tracker_a17daba98568ee2911733480813d9f541}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{Session\+\_\+sysvars\+\_\+tracker()}{Session\_sysvars\_tracker()}}
{\footnotesize\ttfamily Session\+\_\+sysvars\+\_\+tracker\+::\+Session\+\_\+sysvars\+\_\+tracker (\begin{DoxyParamCaption}\item[{const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$}]{char\+\_\+set }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor \mbox{\Hypertarget{classSession__sysvars__tracker_a0f236f107c187d9b04ade54c8d637d10}\label{classSession__sysvars__tracker_a0f236f107c187d9b04ade54c8d637d10}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!````~Session\+\_\+sysvars\+\_\+tracker@{$\sim$\+Session\+\_\+sysvars\+\_\+tracker}}
\index{````~Session\+\_\+sysvars\+\_\+tracker@{$\sim$\+Session\+\_\+sysvars\+\_\+tracker}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{$\sim$\+Session\+\_\+sysvars\+\_\+tracker()}{~Session\_sysvars\_tracker()}}
{\footnotesize\ttfamily Session\+\_\+sysvars\+\_\+tracker\+::$\sim$\+Session\+\_\+sysvars\+\_\+tracker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Destructor 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classSession__sysvars__tracker_a8e2849a2c33fbbfcd81243d8d44fea6f}\label{classSession__sysvars__tracker_a8e2849a2c33fbbfcd81243d8d44fea6f}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!check@{check}}
\index{check@{check}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{check()}{check()}}
{\footnotesize\ttfamily bool Session\+\_\+sysvars\+\_\+tracker\+::check (\begin{DoxyParamCaption}\item[{T\+HD $\ast$}]{thd,  }\item[{\mbox{\hyperlink{classset__var}{set\+\_\+var}} $\ast$}]{var }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Check if any of the system variable name(s) in the given list of system variables is duplicate/invalid. 

When the value of @session\+\_\+track\+\_\+system\+\_\+variables system variable is updated, the new value is first verified in this function (called from O\+N\+\_\+\+C\+H\+E\+C\+K()) and a hash is populated in tool\+\_\+list.

\begin{DoxyNote}{Note}
This function is called from the O\+N\+\_\+\+C\+H\+E\+C\+K() function of the session\+\_\+track\+\_\+system\+\_\+variables\textquotesingle{} \mbox{\hyperlink{classsys__var}{sys\+\_\+var}} class.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em thd} & \mbox{[}IN\mbox{]} The thd handle. \\
\hline
{\em var} & \mbox{[}IN\mbox{]} A pointer to \mbox{\hyperlink{classset__var}{set\+\_\+var}} holding the specified list of system variable names.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true Error false Success 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classState__tracker_a50923266a6300e657b70dc4f0125782c}{State\+\_\+tracker}}.

\mbox{\Hypertarget{classSession__sysvars__tracker_abe0b7f50ef4c4e269a077f7784d2ce28}\label{classSession__sysvars__tracker_abe0b7f50ef4c4e269a077f7784d2ce28}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!enable@{enable}}
\index{enable@{enable}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{enable()}{enable()}}
{\footnotesize\ttfamily bool Session\+\_\+sysvars\+\_\+tracker\+::enable (\begin{DoxyParamCaption}\item[{T\+HD $\ast$}]{thd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



It is responsible for enabling this tracker when a session starts. During the initialization, a session\textquotesingle{}s system variable gets a copy of the global variable. The new value of session\+\_\+track\+\_\+system\+\_\+variables is then verified \& tokenized to create a hash, which is then updated to orig\+\_\+list which represents all the systems variables to be tracked. 


\begin{DoxyParams}{Parameters}
{\em thd} & \mbox{[}IN\mbox{]} The thd handle.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true Error false Success 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classState__tracker_a65cd4b0d77f079f4c41620c0bf314939}{State\+\_\+tracker}}.

\mbox{\Hypertarget{classSession__sysvars__tracker_adeca89d5fa8be0279ec522c7afd8fcae}\label{classSession__sysvars__tracker_adeca89d5fa8be0279ec522c7afd8fcae}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!mark\+\_\+as\+\_\+changed@{mark\+\_\+as\+\_\+changed}}
\index{mark\+\_\+as\+\_\+changed@{mark\+\_\+as\+\_\+changed}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{mark\+\_\+as\+\_\+changed()}{mark\_as\_changed()}}
{\footnotesize\ttfamily void Session\+\_\+sysvars\+\_\+tracker\+::mark\+\_\+as\+\_\+changed (\begin{DoxyParamCaption}\item[{T\+HD $\ast$}]{thd,  }\item[{L\+E\+X\+\_\+\+C\+S\+T\+R\+I\+NG $\ast$}]{tracked\+\_\+item\+\_\+name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Mark the system variable with the specified name as changed. 


\begin{DoxyParams}{Parameters}
{\em name} & \mbox{[}IN\mbox{]} Name of the system variable which got changed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classState__tracker_afb865d3837c0f8fc9cd36d5234142b32}{State\+\_\+tracker}}.

\mbox{\Hypertarget{classSession__sysvars__tracker_a1b134fe57695e59ddef1d20ab2044036}\label{classSession__sysvars__tracker_a1b134fe57695e59ddef1d20ab2044036}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!reset@{reset}}
\index{reset@{reset}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void Session\+\_\+sysvars\+\_\+tracker\+::reset (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Prepare/reset the m\+\_\+registered\+\_\+sysvars hash for next statement. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classSession__sysvars__tracker_a53ed673ab98982fd3dd55dea54d0b61c}\label{classSession__sysvars__tracker_a53ed673ab98982fd3dd55dea54d0b61c}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!server\+\_\+init\+\_\+check@{server\+\_\+init\+\_\+check}}
\index{server\+\_\+init\+\_\+check@{server\+\_\+init\+\_\+check}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{server\+\_\+init\+\_\+check()}{server\_init\_check()}}
{\footnotesize\ttfamily static bool Session\+\_\+sysvars\+\_\+tracker\+::server\+\_\+init\+\_\+check (\begin{DoxyParamCaption}\item[{const C\+H\+A\+R\+S\+E\+T\+\_\+\+I\+N\+FO $\ast$}]{char\+\_\+set,  }\item[{L\+E\+X\+\_\+\+S\+T\+R\+I\+NG}]{var\+\_\+list }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Method used to check the validity of string provided for session\+\_\+track\+\_\+system\+\_\+variables during the server startup. \mbox{\Hypertarget{classSession__sysvars__tracker_a518ef2f3fae3c779cf182a391683b22e}\label{classSession__sysvars__tracker_a518ef2f3fae3c779cf182a391683b22e}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!store@{store}}
\index{store@{store}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{store()}{store()}}
{\footnotesize\ttfamily bool Session\+\_\+sysvars\+\_\+tracker\+::store (\begin{DoxyParamCaption}\item[{T\+HD $\ast$}]{thd,  }\item[{String \&}]{buf }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Store the data for changed system variables in the specified buffer. Once the data is stored, we reset the flags related to state-\/change (see \mbox{\hyperlink{classSession__sysvars__tracker_a1b134fe57695e59ddef1d20ab2044036}{reset()}}). 


\begin{DoxyParams}{Parameters}
{\em thd} & \mbox{[}IN\mbox{]} The thd handle.  buf \mbox{[}I\+N\+O\+UT\mbox{]} Buffer to store the information to.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false Success true Error 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classState__tracker_aee5cd5c5ed19fbd4c8ac01dbd62471e7}{State\+\_\+tracker}}.

\mbox{\Hypertarget{classSession__sysvars__tracker_a379d5a9d10ca357f185984cf6bbf8509}\label{classSession__sysvars__tracker_a379d5a9d10ca357f185984cf6bbf8509}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!sysvars\+\_\+get\+\_\+key@{sysvars\+\_\+get\+\_\+key}}
\index{sysvars\+\_\+get\+\_\+key@{sysvars\+\_\+get\+\_\+key}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{sysvars\+\_\+get\+\_\+key()}{sysvars\_get\_key()}}
{\footnotesize\ttfamily uchar $\ast$ Session\+\_\+sysvars\+\_\+tracker\+::sysvars\+\_\+get\+\_\+key (\begin{DoxyParamCaption}\item[{const char $\ast$}]{entry,  }\item[{size\+\_\+t $\ast$}]{length,  }\item[{my\+\_\+bool not\+\_\+used }]{M\+Y\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE(unused) }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Supply key to the hash implementation (to be used internally by the implementation). 


\begin{DoxyParams}{Parameters}
{\em entry} & \mbox{[}IN\mbox{]} A single entry. \\
\hline
{\em length} & \mbox{[}O\+UT\mbox{]} Length of the key. \\
\hline
{\em not\+\_\+used} & Unused.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the key buffer. 
\end{DoxyReturn}
\mbox{\Hypertarget{classSession__sysvars__tracker_a82607e850253dec7382bc49425179074}\label{classSession__sysvars__tracker_a82607e850253dec7382bc49425179074}} 
\index{Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}!update@{update}}
\index{update@{update}!Session\+\_\+sysvars\+\_\+tracker@{Session\+\_\+sysvars\+\_\+tracker}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily bool Session\+\_\+sysvars\+\_\+tracker\+::update (\begin{DoxyParamCaption}\item[{T\+HD $\ast$}]{thd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Once the value of the @session\+\_\+track\+\_\+system\+\_\+variables has been successfully updated, this function calls Session\+\_\+sysvars\+\_\+tracker\+::vars\+\_\+list\+::update updating the hash in orig\+\_\+list which represents the system variables to be tracked. 

\begin{DoxyNote}{Note}
This function is called from the O\+N\+\_\+\+U\+P\+D\+A\+T\+E() function of the session\+\_\+track\+\_\+system\+\_\+variables\textquotesingle{} \mbox{\hyperlink{classsys__var}{sys\+\_\+var}} class.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em thd} & \mbox{[}IN\mbox{]} The thd handle.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true Error false Success 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classState__tracker_a74ffdcb79733e8d31e9fe2dcae346022}{State\+\_\+tracker}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
session\+\_\+tracker.\+cc\end{DoxyCompactItemize}
