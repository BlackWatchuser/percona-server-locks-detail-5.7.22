\hypertarget{classNTService}{}\section{N\+T\+Service Class Reference}
\label{classNTService}\index{N\+T\+Service@{N\+T\+Service}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classNTService_a47ab7daea04c69ece78af056970721bf}\label{classNTService_a47ab7daea04c69ece78af056970721bf}} 
B\+O\+OL {\bfseries Get\+OS} ()
\item 
\mbox{\Hypertarget{classNTService_ade05f348b06712a570cfa7ced272b0c4}\label{classNTService_ade05f348b06712a570cfa7ced272b0c4}} 
B\+O\+OL {\bfseries Is\+NT} ()
\item 
long \mbox{\hyperlink{classNTService_a7d64ca859f231aa1aacc56832cc0d641}{Init}} (L\+P\+C\+S\+TR sz\+Intern\+Name, void $\ast$Service\+Thread)
\item 
\mbox{\Hypertarget{classNTService_aef2d62afcedfe554278a3c4c543aec78}\label{classNTService_aef2d62afcedfe554278a3c4c543aec78}} 
void {\bfseries Set\+Shutdown\+Event} (H\+A\+N\+D\+LE h\+Event)
\item 
B\+O\+OL \mbox{\hyperlink{classNTService_aab2e98bbe52de94d66b64f7a27e68c5b}{Install}} (int start\+Type, L\+P\+C\+S\+TR sz\+Intern\+Name, L\+P\+C\+S\+TR sz\+Display\+Name, L\+P\+C\+S\+TR sz\+Full\+Path, L\+P\+C\+S\+TR sz\+Account\+Name=N\+U\+LL, L\+P\+C\+S\+TR sz\+Password=N\+U\+LL)
\item 
\mbox{\Hypertarget{classNTService_afbcd908aa72f88c873751406e6b01b03}\label{classNTService_afbcd908aa72f88c873751406e6b01b03}} 
B\+O\+OL {\bfseries Seek\+Status} (L\+P\+C\+S\+TR sz\+Intern\+Name, int Operation\+Type)
\item 
B\+O\+OL \mbox{\hyperlink{classNTService_a24da61426d7e37165a94a421f58737e0}{Remove}} (L\+P\+C\+S\+TR sz\+Intern\+Name)
\item 
\mbox{\Hypertarget{classNTService_aa78464b9d48b5db26774cc76beb6e7ed}\label{classNTService_aa78464b9d48b5db26774cc76beb6e7ed}} 
B\+O\+OL {\bfseries Is\+Service} (L\+P\+C\+S\+TR Service\+Name)
\item 
\mbox{\Hypertarget{classNTService_ad88538e58c5d07092f22185b55112a3e}\label{classNTService_ad88538e58c5d07092f22185b55112a3e}} 
B\+O\+OL {\bfseries got\+\_\+service\+\_\+option} (char $\ast$$\ast$argv, char $\ast$service\+\_\+option)
\item 
\mbox{\Hypertarget{classNTService_a121b1809898655ce7063c4f4a30d4f54}\label{classNTService_a121b1809898655ce7063c4f4a30d4f54}} 
B\+O\+OL {\bfseries is\+\_\+super\+\_\+user} ()
\item 
\mbox{\Hypertarget{classNTService_ace83add65ff0bf3e73765dd4b5d4a577}\label{classNTService_ace83add65ff0bf3e73765dd4b5d4a577}} 
void {\bfseries Set\+Running} (void)
\item 
void \mbox{\hyperlink{classNTService_a5a2e4a86c43e059e2d7e0f5b28bb0d48}{Set\+Slow\+Starting}} (unsigned long timeout)
\item 
void \mbox{\hyperlink{classNTService_a58cffe68293f4919153cf798517d94f2}{Stop}} (void)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classNTService_a6c62d4c04e98743f6c582a1328b2803c}\label{classNTService_a6c62d4c04e98743f6c582a1328b2803c}} 
B\+O\+OL \mbox{\hyperlink{classNTService_a6c62d4c04e98743f6c582a1328b2803c}{b\+Os\+NT}}
\begin{DoxyCompactList}\small\item\em true if OS is NT, false for Win95 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classNTService_aca3eba13a79b70f2ad2ba72edbe691f8}\label{classNTService_aca3eba13a79b70f2ad2ba72edbe691f8}} 
D\+W\+O\+RD {\bfseries dw\+Desired\+Access}
\item 
\mbox{\Hypertarget{classNTService_a390f43dc60ee08d28b4e17d07f984b61}\label{classNTService_a390f43dc60ee08d28b4e17d07f984b61}} 
D\+W\+O\+RD {\bfseries dw\+Service\+Type}
\item 
\mbox{\Hypertarget{classNTService_af430ea05bc71a8cfdbd2fca643d09003}\label{classNTService_af430ea05bc71a8cfdbd2fca643d09003}} 
D\+W\+O\+RD {\bfseries dw\+Start\+Type}
\item 
\mbox{\Hypertarget{classNTService_a6d76cc72534021711c34d5348f6e0ade}\label{classNTService_a6d76cc72534021711c34d5348f6e0ade}} 
D\+W\+O\+RD {\bfseries dw\+Error\+Control}
\item 
\mbox{\Hypertarget{classNTService_a902871fed7d742ab95dfa4b253947d52}\label{classNTService_a902871fed7d742ab95dfa4b253947d52}} 
L\+P\+S\+TR {\bfseries sz\+Load\+Order\+Group}
\item 
\mbox{\Hypertarget{classNTService_a0dbec860d02242d02e80d8cbf4977b5e}\label{classNTService_a0dbec860d02242d02e80d8cbf4977b5e}} 
L\+P\+D\+W\+O\+RD {\bfseries lpdw\+Tag\+ID}
\item 
\mbox{\Hypertarget{classNTService_ab1148aefa4a3a445b2b29204b8c8c89b}\label{classNTService_ab1148aefa4a3a445b2b29204b8c8c89b}} 
L\+P\+S\+TR {\bfseries sz\+Dependencies}
\item 
\mbox{\Hypertarget{classNTService_a10b3646988bfbfc0911ee3bc70ce88c2}\label{classNTService_a10b3646988bfbfc0911ee3bc70ce88c2}} 
O\+S\+V\+E\+R\+S\+I\+O\+N\+I\+N\+FO {\bfseries os\+Ver}
\item 
\mbox{\Hypertarget{classNTService_a1d7218d40ef0127d99cc63a8d5d2ec75}\label{classNTService_a1d7218d40ef0127d99cc63a8d5d2ec75}} 
int {\bfseries n\+Start\+Time\+Out}
\item 
\mbox{\Hypertarget{classNTService_a36853ccd67cd4d5b96394eddeda8e306}\label{classNTService_a36853ccd67cd4d5b96394eddeda8e306}} 
int {\bfseries n\+Stop\+Time\+Out}
\item 
\mbox{\Hypertarget{classNTService_ad01212676fec63307455f57fe9c16e07}\label{classNTService_ad01212676fec63307455f57fe9c16e07}} 
int {\bfseries n\+Pause\+Time\+Out}
\item 
\mbox{\Hypertarget{classNTService_ada345534304dad07bc5dbe04dd0633dc}\label{classNTService_ada345534304dad07bc5dbe04dd0633dc}} 
int {\bfseries n\+Resume\+Time\+Out}
\item 
\mbox{\Hypertarget{classNTService_aa757c90f47e05ef7573d95384c29cede}\label{classNTService_aa757c90f47e05ef7573d95384c29cede}} 
D\+W\+O\+RD {\bfseries my\+\_\+argc}
\item 
\mbox{\Hypertarget{classNTService_af012f5a3a359689997e1f75e6321f667}\label{classNTService_af012f5a3a359689997e1f75e6321f667}} 
L\+P\+T\+S\+TR $\ast$ {\bfseries my\+\_\+argv}
\item 
\mbox{\Hypertarget{classNTService_a6dbb461d5120f09a69dd76267b4bb076}\label{classNTService_a6dbb461d5120f09a69dd76267b4bb076}} 
H\+A\+N\+D\+LE {\bfseries h\+Shutdown\+Event}
\item 
\mbox{\Hypertarget{classNTService_a73fbb4a4ef71ebe6854d43ce5949e158}\label{classNTService_a73fbb4a4ef71ebe6854d43ce5949e158}} 
int {\bfseries n\+Error}
\item 
\mbox{\Hypertarget{classNTService_acee969cecee4dbfb0a97a018d3b36e3b}\label{classNTService_acee969cecee4dbfb0a97a018d3b36e3b}} 
D\+W\+O\+RD {\bfseries dw\+State}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classNTService_aa7c126a3480200df1cacf42bbea6be18}\label{classNTService_aa7c126a3480200df1cacf42bbea6be18}} 
void {\bfseries Pause\+Service} ()
\item 
\mbox{\Hypertarget{classNTService_a5fec0021248fa67034c666052c38aa13}\label{classNTService_a5fec0021248fa67034c666052c38aa13}} 
void {\bfseries Resume\+Service} ()
\item 
\mbox{\Hypertarget{classNTService_a5e89775601beaff88232c33e9e165e66}\label{classNTService_a5e89775601beaff88232c33e9e165e66}} 
void {\bfseries Stop\+Service} ()
\item 
\mbox{\Hypertarget{classNTService_a5598d7f7453267f8ce39663f895e0780}\label{classNTService_a5598d7f7453267f8ce39663f895e0780}} 
B\+O\+OL {\bfseries Start\+Service} ()
\item 
\mbox{\Hypertarget{classNTService_a2f911c64d46aac900030949aede659c0}\label{classNTService_a2f911c64d46aac900030949aede659c0}} 
void {\bfseries Exit} (D\+W\+O\+RD error)
\item 
\mbox{\Hypertarget{classNTService_ac93492b55a1f00e0a6330642bdd4ca87}\label{classNTService_ac93492b55a1f00e0a6330642bdd4ca87}} 
B\+O\+OL {\bfseries Set\+Status} (D\+W\+O\+RD dw\+Current\+State, D\+W\+O\+RD dw\+Win32\+Exit\+Code, D\+W\+O\+RD dw\+Service\+Specific\+Exit\+Code, D\+W\+O\+RD dw\+Check\+Point, D\+W\+O\+RD dw\+Wait\+Hint)
\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classNTService_a8b34dc5c32e42c3ec151e82f7a25474a}{Service\+Main}} (D\+W\+O\+RD argc, L\+P\+T\+S\+TR $\ast$argv)
\item 
\mbox{\Hypertarget{classNTService_ae99a1f09451dc326977b20205dae3932}\label{classNTService_ae99a1f09451dc326977b20205dae3932}} 
static void {\bfseries Service\+Ctrl\+Handler} (D\+W\+O\+RD ctrl\+Code)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classNTService_aba2f195dc0591ca76755f92afedc9325}\label{classNTService_aba2f195dc0591ca76755f92afedc9325}} 
L\+P\+S\+TR {\bfseries Service\+Name}
\item 
\mbox{\Hypertarget{classNTService_a2e40d90a098bfb43fcd2515561a61fb2}\label{classNTService_a2e40d90a098bfb43fcd2515561a61fb2}} 
H\+A\+N\+D\+LE {\bfseries h\+Exit\+Event}
\item 
\mbox{\Hypertarget{classNTService_a722b687dccaf27d5e92a9803ea2b27fb}\label{classNTService_a722b687dccaf27d5e92a9803ea2b27fb}} 
S\+E\+R\+V\+I\+C\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+H\+A\+N\+D\+LE {\bfseries h\+Service\+Status\+Handle}
\item 
\mbox{\Hypertarget{classNTService_acff3fd34d4a08ab3c72f9359544cbed8}\label{classNTService_acff3fd34d4a08ab3c72f9359544cbed8}} 
B\+O\+OL {\bfseries b\+Pause}
\item 
\mbox{\Hypertarget{classNTService_a6ec6c8992bf31c6f39caacce8ac4657e}\label{classNTService_a6ec6c8992bf31c6f39caacce8ac4657e}} 
B\+O\+OL {\bfseries b\+Running}
\item 
\mbox{\Hypertarget{classNTService_abe58a7c918e005800b549f2f6fa68e7a}\label{classNTService_abe58a7c918e005800b549f2f6fa68e7a}} 
H\+A\+N\+D\+LE {\bfseries h\+Thread\+Handle}
\item 
\mbox{\Hypertarget{classNTService_a2ae0f6d830e677113594670c20fd9c06}\label{classNTService_a2ae0f6d830e677113594670c20fd9c06}} 
T\+H\+R\+E\+A\+D\+\_\+\+FC {\bfseries fp\+Service\+Thread}
\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classNTService_a7d64ca859f231aa1aacc56832cc0d641}\label{classNTService_a7d64ca859f231aa1aacc56832cc0d641}} 
\index{N\+T\+Service@{N\+T\+Service}!Init@{Init}}
\index{Init@{Init}!N\+T\+Service@{N\+T\+Service}}
\subsubsection{\texorpdfstring{Init()}{Init()}}
{\footnotesize\ttfamily long N\+T\+Service\+::\+Init (\begin{DoxyParamCaption}\item[{L\+P\+C\+S\+TR}]{sz\+Intern\+Name,  }\item[{void $\ast$}]{Service\+Thread }\end{DoxyParamCaption})}

Registers the main service thread with the service manager.


\begin{DoxyParams}{Parameters}
{\em Service\+Thread} & pointer to the main programs entry function when the service is started \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classNTService_aab2e98bbe52de94d66b64f7a27e68c5b}\label{classNTService_aab2e98bbe52de94d66b64f7a27e68c5b}} 
\index{N\+T\+Service@{N\+T\+Service}!Install@{Install}}
\index{Install@{Install}!N\+T\+Service@{N\+T\+Service}}
\subsubsection{\texorpdfstring{Install()}{Install()}}
{\footnotesize\ttfamily B\+O\+OL N\+T\+Service\+::\+Install (\begin{DoxyParamCaption}\item[{int}]{start\+Type,  }\item[{L\+P\+C\+S\+TR}]{sz\+Intern\+Name,  }\item[{L\+P\+C\+S\+TR}]{sz\+Display\+Name,  }\item[{L\+P\+C\+S\+TR}]{sz\+Full\+Path,  }\item[{L\+P\+C\+S\+TR}]{sz\+Account\+Name = {\ttfamily NULL},  }\item[{L\+P\+C\+S\+TR}]{sz\+Password = {\ttfamily NULL} }\end{DoxyParamCaption})}

Installs the service with Service manager.

n\+Error values\+:
\begin{DoxyItemize}
\item 0 success
\item 1 Can\textquotesingle{}t open the Service manager
\item 2 Failed to create service. 
\end{DoxyItemize}\mbox{\Hypertarget{classNTService_a24da61426d7e37165a94a421f58737e0}\label{classNTService_a24da61426d7e37165a94a421f58737e0}} 
\index{N\+T\+Service@{N\+T\+Service}!Remove@{Remove}}
\index{Remove@{Remove}!N\+T\+Service@{N\+T\+Service}}
\subsubsection{\texorpdfstring{Remove()}{Remove()}}
{\footnotesize\ttfamily B\+O\+OL N\+T\+Service\+::\+Remove (\begin{DoxyParamCaption}\item[{L\+P\+C\+S\+TR}]{sz\+Intern\+Name }\end{DoxyParamCaption})}

Removes the service.

n\+Error values\+:
\begin{DoxyItemize}
\item 0 success
\item 1 Can\textquotesingle{}t open the Service manager
\item 2 Failed to locate service
\item 3 Failed to delete service. 
\end{DoxyItemize}\mbox{\Hypertarget{classNTService_a8b34dc5c32e42c3ec151e82f7a25474a}\label{classNTService_a8b34dc5c32e42c3ec151e82f7a25474a}} 
\index{N\+T\+Service@{N\+T\+Service}!Service\+Main@{Service\+Main}}
\index{Service\+Main@{Service\+Main}!N\+T\+Service@{N\+T\+Service}}
\subsubsection{\texorpdfstring{Service\+Main()}{ServiceMain()}}
{\footnotesize\ttfamily void N\+T\+Service\+::\+Service\+Main (\begin{DoxyParamCaption}\item[{D\+W\+O\+RD}]{argc,  }\item[{L\+P\+T\+S\+TR $\ast$}]{argv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

This is the function that is called from the service manager to start the service. \mbox{\Hypertarget{classNTService_a5a2e4a86c43e059e2d7e0f5b28bb0d48}\label{classNTService_a5a2e4a86c43e059e2d7e0f5b28bb0d48}} 
\index{N\+T\+Service@{N\+T\+Service}!Set\+Slow\+Starting@{Set\+Slow\+Starting}}
\index{Set\+Slow\+Starting@{Set\+Slow\+Starting}!N\+T\+Service@{N\+T\+Service}}
\subsubsection{\texorpdfstring{Set\+Slow\+Starting()}{SetSlowStarting()}}
{\footnotesize\ttfamily void N\+T\+Service\+::\+Set\+Slow\+Starting (\begin{DoxyParamCaption}\item[{unsigned long}]{timeout }\end{DoxyParamCaption})}

Sets a timeout after which S\+CM will abort service startup if Set\+Running() was not called or the timeout was not extended with another call to \mbox{\hyperlink{classNTService_a5a2e4a86c43e059e2d7e0f5b28bb0d48}{Set\+Slow\+Starting()}}. Should be called when static initialization completes, and the variable initialization part begins

\begin{DoxyItemize}
\item timeout the timeout to pass to the S\+CM (in milliseconds) \end{DoxyItemize}
\mbox{\Hypertarget{classNTService_a58cffe68293f4919153cf798517d94f2}\label{classNTService_a58cffe68293f4919153cf798517d94f2}} 
\index{N\+T\+Service@{N\+T\+Service}!Stop@{Stop}}
\index{Stop@{Stop}!N\+T\+Service@{N\+T\+Service}}
\subsubsection{\texorpdfstring{Stop()}{Stop()}}
{\footnotesize\ttfamily void N\+T\+Service\+::\+Stop (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

this function should be called before the app. exits to stop the service 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{nt__servc_8h}{nt\+\_\+servc.\+h}}\item 
\mbox{\hyperlink{nt__servc_8cc}{nt\+\_\+servc.\+cc}}\end{DoxyCompactItemize}
