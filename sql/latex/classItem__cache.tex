\hypertarget{classItem__cache}{}\section{Item\+\_\+cache Class Reference}
\label{classItem__cache}\index{Item\+\_\+cache@{Item\+\_\+cache}}
Inheritance diagram for Item\+\_\+cache\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.919708cm]{classItem__cache}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classItem__cache_a50c7bf6e2c62ee66557cbfb09d9f613f}\label{classItem__cache_a50c7bf6e2c62ee66557cbfb09d9f613f}} 
{\bfseries Item\+\_\+cache} (enum\+\_\+field\+\_\+types field\+\_\+type\+\_\+arg)
\item 
\mbox{\Hypertarget{classItem__cache_ac23096c28f9b40fbadc3615ca651c0d6}\label{classItem__cache_ac23096c28f9b40fbadc3615ca651c0d6}} 
void {\bfseries set\+\_\+used\+\_\+tables} (table\+\_\+map map)
\item 
virtual void \mbox{\hyperlink{classItem__cache_a2d1447a09b8702eb448c8176043fe748}{fix\+\_\+after\+\_\+pullout}} (st\+\_\+select\+\_\+lex $\ast$parent\+\_\+select, st\+\_\+select\+\_\+lex $\ast$removed\+\_\+select)
\item 
\mbox{\Hypertarget{classItem__cache_ae70dcfa86eddbed0b9f7872b6c09134d}\label{classItem__cache_ae70dcfa86eddbed0b9f7872b6c09134d}} 
virtual bool {\bfseries allocate} (uint i)
\item 
\mbox{\Hypertarget{classItem__cache_a8f5e91524936d4d9101465744e9c69fa}\label{classItem__cache_a8f5e91524936d4d9101465744e9c69fa}} 
virtual bool {\bfseries setup} (\mbox{\hyperlink{classItem}{Item}} $\ast$item)
\item 
\mbox{\Hypertarget{classItem__cache_a127cb284da63259ad598e559685a3215}\label{classItem__cache_a127cb284da63259ad598e559685a3215}} 
enum Type {\bfseries type} () const
\item 
\mbox{\Hypertarget{classItem__cache_ab320c3a01e52e23faa8b4a7d5c6d5d5b}\label{classItem__cache_ab320c3a01e52e23faa8b4a7d5c6d5d5b}} 
enum\+\_\+field\+\_\+types {\bfseries field\+\_\+type} () const
\item 
\mbox{\Hypertarget{classItem__cache_adc459362804f59499bb19be1a8568938}\label{classItem__cache_adc459362804f59499bb19be1a8568938}} 
table\+\_\+map {\bfseries used\+\_\+tables} () const
\item 
\mbox{\Hypertarget{classItem__cache_ac07a9a8958a38e39d0544ec5ea3bcf57}\label{classItem__cache_ac07a9a8958a38e39d0544ec5ea3bcf57}} 
virtual void {\bfseries keep\+\_\+array} ()
\item 
virtual void \mbox{\hyperlink{classItem__cache_aecabd691684004d947417423448a4ff3}{print}} (String $\ast$str, enum\+\_\+query\+\_\+type query\+\_\+type)
\item 
\mbox{\Hypertarget{classItem__cache_a257cd5873fafe24520e346310bd443a0}\label{classItem__cache_a257cd5873fafe24520e346310bd443a0}} 
bool {\bfseries eq\+\_\+def} (\mbox{\hyperlink{classField}{Field}} $\ast$\mbox{\hyperlink{classItem__cache_aec4011e0239387bff54d31814c1d4f43}{field}})
\item 
bool \mbox{\hyperlink{classItem__cache_a77bf4f66aca1a46aeca8ba732eed78ce}{eq}} (const \mbox{\hyperlink{classItem}{Item}} $\ast$item, bool binary\+\_\+cmp) const
\item 
bool \mbox{\hyperlink{classItem__cache_a3015799614afd6cd21ad99c539322923}{has\+\_\+value}} ()
\item 
\mbox{\hyperlink{classField}{Field}} $\ast$ \mbox{\hyperlink{classItem__cache_aec4011e0239387bff54d31814c1d4f43}{field}} ()
\item 
virtual void \mbox{\hyperlink{classItem__cache_a89d0134e0a71238cb6fa7a32a23f88e7}{store}} (\mbox{\hyperlink{classItem}{Item}} $\ast$item)
\item 
void \mbox{\hyperlink{classItem__cache_a49635825d6d757e8500936cb7d3665a5}{store\+\_\+null}} ()
\item 
\mbox{\Hypertarget{classItem__cache_a4874a669b3e9b18582ded64750f2e8e4}\label{classItem__cache_a4874a669b3e9b18582ded64750f2e8e4}} 
virtual bool {\bfseries cache\+\_\+value} ()=0
\item 
\mbox{\Hypertarget{classItem__cache_a8bb25a519a22bd297822812817b382bb}\label{classItem__cache_a8bb25a519a22bd297822812817b382bb}} 
bool {\bfseries basic\+\_\+const\+\_\+item} () const
\item 
bool \mbox{\hyperlink{classItem__cache_a38750db48a153247ba0b65b6674f11b4}{walk}} (Item\+\_\+processor processor, \mbox{\hyperlink{classItem_a4e68f315ba2a26543339e9f0efed3695}{enum\+\_\+walk}} walk, uchar $\ast$arg)
\item 
\mbox{\Hypertarget{classItem__cache_ac4f422dc232dedfe22045ba01bf1c252}\label{classItem__cache_ac4f422dc232dedfe22045ba01bf1c252}} 
virtual void {\bfseries clear} ()
\item 
\mbox{\Hypertarget{classItem__cache_a8dfb0a73097fc962e22998b998ff2d78}\label{classItem__cache_a8dfb0a73097fc962e22998b998ff2d78}} 
bool {\bfseries is\+\_\+null} ()
\item 
bool \mbox{\hyperlink{classItem__cache_ae62bc37e1839d9749fdd70c485506c5f}{check\+\_\+gcol\+\_\+func\+\_\+processor}} (uchar $\ast$int\+\_\+arg)
\item 
\mbox{\Hypertarget{classItem__cache_abc8fbed43ed06885fd79bcf767bad544}\label{classItem__cache_abc8fbed43ed06885fd79bcf767bad544}} 
Item\+\_\+result {\bfseries result\+\_\+type} () const
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classItem__cache_ad38cad13633276eb753b7bcb7acad1be}\label{classItem__cache_ad38cad13633276eb753b7bcb7acad1be}} 
static \mbox{\hyperlink{classItem__cache}{Item\+\_\+cache}} $\ast$ {\bfseries get\+\_\+cache} (const \mbox{\hyperlink{classItem}{Item}} $\ast$item)
\item 
static \mbox{\hyperlink{classItem__cache}{Item\+\_\+cache}} $\ast$ \mbox{\hyperlink{classItem__cache_aa6e85d7732bbd77c6beb7ad76c5b21ec}{get\+\_\+cache}} (const \mbox{\hyperlink{classItem}{Item}} $\ast$item, const Item\+\_\+result type)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classItem__cache_acb3961600ba26abfda6f46adf0deefd1}\label{classItem__cache_acb3961600ba26abfda6f46adf0deefd1}} 
\mbox{\hyperlink{classItem}{Item}} $\ast$ {\bfseries example}
\item 
\mbox{\Hypertarget{classItem__cache_a5863166cd719da6adb7fa63f14c27d0b}\label{classItem__cache_a5863166cd719da6adb7fa63f14c27d0b}} 
table\+\_\+map {\bfseries used\+\_\+table\+\_\+map}
\item 
\mbox{\hyperlink{classField}{Field}} $\ast$ \mbox{\hyperlink{classItem__cache_a026458858e814775ab27f048c46cf348}{cached\+\_\+field}}
\item 
\mbox{\Hypertarget{classItem__cache_adffa360eee72ccb80886c9ea51199282}\label{classItem__cache_adffa360eee72ccb80886c9ea51199282}} 
enum enum\+\_\+field\+\_\+types {\bfseries cached\+\_\+field\+\_\+type}
\item 
\mbox{\Hypertarget{classItem__cache_a9502c1d595aa3fb89317fa53fc259654}\label{classItem__cache_a9502c1d595aa3fb89317fa53fc259654}} 
bool {\bfseries value\+\_\+cached}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classItem__cache_ae62bc37e1839d9749fdd70c485506c5f}\label{classItem__cache_ae62bc37e1839d9749fdd70c485506c5f}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!check\+\_\+gcol\+\_\+func\+\_\+processor@{check\+\_\+gcol\+\_\+func\+\_\+processor}}
\index{check\+\_\+gcol\+\_\+func\+\_\+processor@{check\+\_\+gcol\+\_\+func\+\_\+processor}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{check\+\_\+gcol\+\_\+func\+\_\+processor()}{check\_gcol\_func\_processor()}}
{\footnotesize\ttfamily bool Item\+\_\+cache\+::check\+\_\+gcol\+\_\+func\+\_\+processor (\begin{DoxyParamCaption}\item[{uchar $\ast$}]{int\+\_\+arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Check if an expression/function is allowed for a virtual column


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em int\+\_\+arg} & An array of two integers. Used only for \mbox{\hyperlink{classItem__field}{Item\+\_\+field}}. The first cell passes the field\textquotesingle{}s number in the table. The second cell is an out parameter containing the error code.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if function is not accepted 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classItem__basic__constant_a6240f3253090d2fc91f87a7a1cb773a7}{Item\+\_\+basic\+\_\+constant}}.

\mbox{\Hypertarget{classItem__cache_a77bf4f66aca1a46aeca8ba732eed78ce}\label{classItem__cache_a77bf4f66aca1a46aeca8ba732eed78ce}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!eq@{eq}}
\index{eq@{eq}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{eq()}{eq()}}
{\footnotesize\ttfamily bool Item\+\_\+cache\+::eq (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classItem}{Item}} $\ast$}]{item,  }\item[{bool}]{binary\+\_\+cmp }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

This function is called when\+:
\begin{DoxyItemize}
\item Comparing items in the W\+H\+E\+RE clause (when doing where optimization)
\item When trying to find an O\+R\+D\+ER B\+Y/\+G\+R\+O\+UP BY item in the S\+E\+L\+E\+CT part
\item When matching fields in multiple equality objects (Item\+\_\+equal) 
\end{DoxyItemize}

Reimplemented from \mbox{\hyperlink{classItem_af0957bbdb9a256de0cd29f1adcae28be}{Item}}.

\mbox{\Hypertarget{classItem__cache_aec4011e0239387bff54d31814c1d4f43}\label{classItem__cache_aec4011e0239387bff54d31814c1d4f43}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!field@{field}}
\index{field@{field}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{field()}{field()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classField}{Field}}$\ast$ Item\+\_\+cache\+::field (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

If this item caches a field value, return pointer to underlying field.

\begin{DoxyReturn}{Returns}
Pointer to field, or N\+U\+LL if this is not a cache for a field value. 
\end{DoxyReturn}
\mbox{\Hypertarget{classItem__cache_a2d1447a09b8702eb448c8176043fe748}\label{classItem__cache_a2d1447a09b8702eb448c8176043fe748}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!fix\+\_\+after\+\_\+pullout@{fix\+\_\+after\+\_\+pullout}}
\index{fix\+\_\+after\+\_\+pullout@{fix\+\_\+after\+\_\+pullout}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{fix\+\_\+after\+\_\+pullout()}{fix\_after\_pullout()}}
{\footnotesize\ttfamily virtual void Item\+\_\+cache\+::fix\+\_\+after\+\_\+pullout (\begin{DoxyParamCaption}\item[{st\+\_\+select\+\_\+lex $\ast$}]{parent\+\_\+select,  }\item[{st\+\_\+select\+\_\+lex $\ast$}]{removed\+\_\+select }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Fix after tables have been moved from one select\+\_\+lex level to the parent level, e.\+g by semijoin conversion. Basically re-\/calculate all attributes dependent on the tables.


\begin{DoxyParams}{Parameters}
{\em parent\+\_\+select} & select\+\_\+lex that tables are moved to. \\
\hline
{\em removed\+\_\+select} & select\+\_\+lex that tables are moved away from, child of parent\+\_\+select. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classItem_a6e3c38497d210357a4f80a755fb7b61e}{Item}}.

\mbox{\Hypertarget{classItem__cache_aa6e85d7732bbd77c6beb7ad76c5b21ec}\label{classItem__cache_aa6e85d7732bbd77c6beb7ad76c5b21ec}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!get\+\_\+cache@{get\+\_\+cache}}
\index{get\+\_\+cache@{get\+\_\+cache}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{get\+\_\+cache()}{get\_cache()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classItem__cache}{Item\+\_\+cache}} $\ast$ Item\+\_\+cache\+::get\+\_\+cache (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classItem}{Item}} $\ast$}]{item,  }\item[{const Item\+\_\+result}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Get a cache item of given type.


\begin{DoxyParams}{Parameters}
{\em item} & value to be cached \\
\hline
{\em type} & required type of cache\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
cache item 
\end{DoxyReturn}
\mbox{\Hypertarget{classItem__cache_a3015799614afd6cd21ad99c539322923}\label{classItem__cache_a3015799614afd6cd21ad99c539322923}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!has\+\_\+value@{has\+\_\+value}}
\index{has\+\_\+value@{has\+\_\+value}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{has\+\_\+value()}{has\_value()}}
{\footnotesize\ttfamily bool Item\+\_\+cache\+::has\+\_\+value (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Check if saved item has a non-\/N\+U\+LL value. Will cache value of saved item if not already done. \begin{DoxyReturn}{Returns}
T\+R\+UE if cached value is non-\/N\+U\+LL. 
\end{DoxyReturn}
\mbox{\Hypertarget{classItem__cache_aecabd691684004d947417423448a4ff3}\label{classItem__cache_aecabd691684004d947417423448a4ff3}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!print@{print}}
\index{print@{print}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{print()}{print()}}
{\footnotesize\ttfamily void Item\+\_\+cache\+::print (\begin{DoxyParamCaption}\item[{String $\ast$}]{str,  }\item[{enum\+\_\+query\+\_\+type}]{query\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This method is used for to\+:
\begin{DoxyItemize}
\item to generate a view definition query (S\+E\+L\+E\+CT-\/statement);
\item to generate a S\+QL-\/query for E\+X\+P\+L\+A\+IN E\+X\+T\+E\+N\+D\+ED;
\item to generate a S\+QL-\/query to be shown in I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+S\+C\+H\+E\+MA;
\item to generate a S\+QL-\/query that looks like a prepared statement for query\+\_\+rewrite
\item debug.
\end{DoxyItemize}

For more information about view definition query, I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+S\+C\+H\+E\+MA query and why they should be generated from the \mbox{\hyperlink{classItem}{Item}}-\/tree, \begin{DoxySeeAlso}{See also}
mysql\+\_\+register\+\_\+view(). 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{classItem_aa7ba4bde739d83adec8edf3bf1596d94}{Item}}.

\mbox{\Hypertarget{classItem__cache_a89d0134e0a71238cb6fa7a32a23f88e7}\label{classItem__cache_a89d0134e0a71238cb6fa7a32a23f88e7}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!store@{store}}
\index{store@{store}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{store()}{store()}}
{\footnotesize\ttfamily void Item\+\_\+cache\+::store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classItem}{Item}} $\ast$}]{item }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Assigns to the cache the expression to be cached. Does not evaluate it. 
\begin{DoxyParams}{Parameters}
{\em item} & the expression to be cached \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{classItem__cache__datetime_a75bbda93393db797f710521aabd9200c}{Item\+\_\+cache\+\_\+datetime}}, \mbox{\hyperlink{classItem__cache__row_aa782d678a13a494afe3882ced878ee7c}{Item\+\_\+cache\+\_\+row}}, and \mbox{\hyperlink{classItem__cache__int_a657ce32793e936e705bf43fde85a2da4}{Item\+\_\+cache\+\_\+int}}.

\mbox{\Hypertarget{classItem__cache_a49635825d6d757e8500936cb7d3665a5}\label{classItem__cache_a49635825d6d757e8500936cb7d3665a5}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!store\+\_\+null@{store\+\_\+null}}
\index{store\+\_\+null@{store\+\_\+null}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{store\+\_\+null()}{store\_null()}}
{\footnotesize\ttfamily void Item\+\_\+cache\+::store\+\_\+null (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Force an item to be null. Used for empty subqueries to avoid attempts to evaluate expressions which could have uninitialized columns due to bypassing the subquery exec. \mbox{\Hypertarget{classItem__cache_a38750db48a153247ba0b65b6674f11b4}\label{classItem__cache_a38750db48a153247ba0b65b6674f11b4}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!walk@{walk}}
\index{walk@{walk}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{walk()}{walk()}}
{\footnotesize\ttfamily bool Item\+\_\+cache\+::walk (\begin{DoxyParamCaption}\item[{Item\+\_\+processor}]{processor,  }\item[{\mbox{\hyperlink{classItem_a4e68f315ba2a26543339e9f0efed3695}{enum\+\_\+walk}}}]{walk,  }\item[{uchar $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Traverses a tree of Items in prefix and/or postfix order. Optionally walks into subqueries.


\begin{DoxyParams}{Parameters}
{\em processor} & processor function to be invoked per item returns true to abort traversal, false to continue \\
\hline
{\em walk} & controls how to traverse the item tree W\+A\+L\+K\+\_\+\+P\+R\+E\+F\+IX\+: call processor before invoking children W\+A\+L\+K\+\_\+\+P\+O\+S\+T\+F\+IX\+: call processor after invoking children W\+A\+L\+K\+\_\+\+S\+U\+B\+Q\+U\+E\+RY go down into subqueries walk values are bit-\/coded and may be combined. Omitting both W\+A\+L\+K\+\_\+\+P\+R\+E\+F\+IX and W\+A\+L\+K\+\_\+\+P\+O\+S\+T\+F\+IX is undefined behaviour. \\
\hline
{\em arg} & Optional pointer to a walk-\/specific object\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em false} & walk succeeded \\
\hline
{\em true} & walk aborted by agreement, an error may have been reported \\
\hline
\end{DoxyRetVals}


Reimplemented from \mbox{\hyperlink{classItem_ab7d2529511c14a77e59a1b1bbabc95d7}{Item}}.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classItem__cache_a026458858e814775ab27f048c46cf348}\label{classItem__cache_a026458858e814775ab27f048c46cf348}} 
\index{Item\+\_\+cache@{Item\+\_\+cache}!cached\+\_\+field@{cached\+\_\+field}}
\index{cached\+\_\+field@{cached\+\_\+field}!Item\+\_\+cache@{Item\+\_\+cache}}
\subsubsection{\texorpdfstring{cached\+\_\+field}{cached\_field}}
{\footnotesize\ttfamily \mbox{\hyperlink{classField}{Field}}$\ast$ Item\+\_\+cache\+::cached\+\_\+field\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\hyperlink{classField}{Field}} that this object will get value from. This is used by index-\/based subquery engines to detect and remove the equality injected by IN-\/$>$E\+X\+I\+S\+TS transformation. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
item.\+h\item 
item.\+cc\end{DoxyCompactItemize}
