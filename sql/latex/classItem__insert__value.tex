\hypertarget{classItem__insert__value}{}\section{Item\+\_\+insert\+\_\+value Class Reference}
\label{classItem__insert__value}\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
Inheritance diagram for Item\+\_\+insert\+\_\+value\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{classItem__insert__value}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classItem__insert__value_a69bb21b81d898888eda0acb1f4e8dd2a}\label{classItem__insert__value_a69bb21b81d898888eda0acb1f4e8dd2a}} 
{\bfseries Item\+\_\+insert\+\_\+value} (const \mbox{\hyperlink{structYYLTYPE}{P\+OS}} \&pos, \mbox{\hyperlink{classItem}{Item}} $\ast$a)
\item 
virtual bool \mbox{\hyperlink{classItem__insert__value_a113d00e28d63795bfd89d65dad61e769}{itemize}} (\mbox{\hyperlink{structParse__context}{Parse\+\_\+context}} $\ast$pc, \mbox{\hyperlink{classItem}{Item}} $\ast$$\ast$res)
\item 
\mbox{\Hypertarget{classItem__insert__value_a6e0a67956a497b45e73662983edb02cf}\label{classItem__insert__value_a6e0a67956a497b45e73662983edb02cf}} 
enum Type {\bfseries type} () const
\item 
bool \mbox{\hyperlink{classItem__insert__value_aa8be1a5d87cbe34ca0fc197a80522738}{eq}} (const \mbox{\hyperlink{classItem}{Item}} $\ast$item, bool binary\+\_\+cmp) const
\item 
bool \mbox{\hyperlink{classItem__insert__value_aa2da2c08853e6acded41a9e83f137ff8}{fix\+\_\+fields}} (T\+HD $\ast$, \mbox{\hyperlink{classItem}{Item}} $\ast$$\ast$)
\item 
virtual void \mbox{\hyperlink{classItem__insert__value_abbba2f565d5a63803b693a03f7184d14}{print}} (String $\ast$str, enum\+\_\+query\+\_\+type query\+\_\+type)
\item 
\mbox{\Hypertarget{classItem__insert__value_a925048601422958a3f6801c16f3784cf}\label{classItem__insert__value_a925048601422958a3f6801c16f3784cf}} 
table\+\_\+map {\bfseries used\+\_\+tables} () const
\item 
bool \mbox{\hyperlink{classItem__insert__value_a7023df48fccb11a014d348cbde3b35c6}{walk}} (Item\+\_\+processor processor, \mbox{\hyperlink{classItem_a4e68f315ba2a26543339e9f0efed3695}{enum\+\_\+walk}} walk, uchar $\ast$args)
\item 
bool \mbox{\hyperlink{classItem__insert__value_a6c64934ac5862b0e211f15e347a0a940}{check\+\_\+gcol\+\_\+func\+\_\+processor}} (uchar $\ast$int\+\_\+arg)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classItem__insert__value_ab4c1e4de1f4b7b060968f58352449931}\label{classItem__insert__value_ab4c1e4de1f4b7b060968f58352449931}} 
\mbox{\hyperlink{classItem}{Item}} $\ast$ {\bfseries arg}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
type\+\_\+conversion\+\_\+status \mbox{\hyperlink{classItem__insert__value_a66064a4540fb76d611f806c195c40886}{save\+\_\+in\+\_\+field\+\_\+inner}} (\mbox{\hyperlink{classField}{Field}} $\ast$field\+\_\+arg, bool no\+\_\+conversions)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classItem__insert__value_a6c64934ac5862b0e211f15e347a0a940}\label{classItem__insert__value_a6c64934ac5862b0e211f15e347a0a940}} 
\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}!check\+\_\+gcol\+\_\+func\+\_\+processor@{check\+\_\+gcol\+\_\+func\+\_\+processor}}
\index{check\+\_\+gcol\+\_\+func\+\_\+processor@{check\+\_\+gcol\+\_\+func\+\_\+processor}!Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
\subsubsection{\texorpdfstring{check\+\_\+gcol\+\_\+func\+\_\+processor()}{check\_gcol\_func\_processor()}}
{\footnotesize\ttfamily bool Item\+\_\+insert\+\_\+value\+::check\+\_\+gcol\+\_\+func\+\_\+processor (\begin{DoxyParamCaption}\item[{uchar $\ast$}]{int\+\_\+arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Check if an expression/function is allowed for a virtual column


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em int\+\_\+arg} & An array of two integers. Used only for \mbox{\hyperlink{classItem__field}{Item\+\_\+field}}. The first cell passes the field\textquotesingle{}s number in the table. The second cell is an out parameter containing the error code.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if function is not accepted 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classItem__field_a9a5288fcbc34ac4bda07a8e11c86269c}{Item\+\_\+field}}.

\mbox{\Hypertarget{classItem__insert__value_aa8be1a5d87cbe34ca0fc197a80522738}\label{classItem__insert__value_aa8be1a5d87cbe34ca0fc197a80522738}} 
\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}!eq@{eq}}
\index{eq@{eq}!Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
\subsubsection{\texorpdfstring{eq()}{eq()}}
{\footnotesize\ttfamily bool Item\+\_\+insert\+\_\+value\+::eq (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classItem}{Item}} $\ast$}]{item,  }\item[{bool}]{binary\+\_\+cmp }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

This function is called when\+:
\begin{DoxyItemize}
\item Comparing items in the W\+H\+E\+RE clause (when doing where optimization)
\item When trying to find an O\+R\+D\+ER B\+Y/\+G\+R\+O\+UP BY item in the S\+E\+L\+E\+CT part
\item When matching fields in multiple equality objects (Item\+\_\+equal) 
\end{DoxyItemize}

Reimplemented from \mbox{\hyperlink{classItem__field_a009fb19dc742f706ec5c8bad9a6a0c2d}{Item\+\_\+field}}.

\mbox{\Hypertarget{classItem__insert__value_aa2da2c08853e6acded41a9e83f137ff8}\label{classItem__insert__value_aa2da2c08853e6acded41a9e83f137ff8}} 
\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}!fix\+\_\+fields@{fix\+\_\+fields}}
\index{fix\+\_\+fields@{fix\+\_\+fields}!Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
\subsubsection{\texorpdfstring{fix\+\_\+fields()}{fix\_fields()}}
{\footnotesize\ttfamily bool Item\+\_\+insert\+\_\+value\+::fix\+\_\+fields (\begin{DoxyParamCaption}\item[{T\+HD $\ast$}]{thd,  }\item[{\mbox{\hyperlink{classItem}{Item}} $\ast$$\ast$}]{reference }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Resolve the name of a column reference.

The method resolves the column reference represented by \textquotesingle{}this\textquotesingle{} as a column present in one of\+: F\+R\+OM clause, S\+E\+L\+E\+CT clause, G\+R\+O\+UP BY clause of a query Q, or in outer queries that contain Q.

The name resolution algorithm used is (where \mbox{[}T\+\_\+j\mbox{]} is an optional table name that qualifies the column name)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{resolve\_column\_reference([T\_j].col\_ref\_i)}
\DoxyCodeLine{\{}
\DoxyCodeLine{  search \textcolor{keywordflow}{for} a column or derived column named col\_ref\_i}
\DoxyCodeLine{  [in table T\_j] in the FROM clause of Q;}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordflow}{if} such a column is NOT found AND    \textcolor{comment}{// Lookup in outer queries.}}
\DoxyCodeLine{     there are outer queries}
\DoxyCodeLine{  \{}
\DoxyCodeLine{    \textcolor{keywordflow}{for each} outer query Q\_k beginning from the inner-most one}
\DoxyCodeLine{    \{}
\DoxyCodeLine{      search \textcolor{keywordflow}{for} a column or derived column named col\_ref\_i}
\DoxyCodeLine{      [in table T\_j] in the FROM clause of Q\_k;}
\DoxyCodeLine{}
\DoxyCodeLine{      \textcolor{keywordflow}{if} such a column is not found}
\DoxyCodeLine{        Search \textcolor{keywordflow}{for} a column or derived column named col\_ref\_i}
\DoxyCodeLine{        [in table T\_j] in the SELECT and GROUP clauses of Q\_k.}
\DoxyCodeLine{    \}}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\}}
\end{DoxyCode}


Notice that compared to \mbox{\hyperlink{classItem__ref_a6a78e05b0db89e799f61808c621b808f}{Item\+\_\+ref\+::fix\+\_\+fields}}, here we first search the F\+R\+OM clause, and then we search the S\+E\+L\+E\+CT and G\+R\+O\+UP BY clauses.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em thd} & current thread \\
\hline
\mbox{\texttt{ in,out}}  & {\em reference} & view column if this item was resolved to a view column\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em T\+R\+UE} & if error \\
\hline
{\em F\+A\+L\+SE} & on success \\
\hline
\end{DoxyRetVals}


Reimplemented from \mbox{\hyperlink{classItem__field_af2e31f1efd8af31c01f0e6dc8f41aea6}{Item\+\_\+field}}.

\mbox{\Hypertarget{classItem__insert__value_a113d00e28d63795bfd89d65dad61e769}\label{classItem__insert__value_a113d00e28d63795bfd89d65dad61e769}} 
\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}!itemize@{itemize}}
\index{itemize@{itemize}!Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
\subsubsection{\texorpdfstring{itemize()}{itemize()}}
{\footnotesize\ttfamily virtual bool Item\+\_\+insert\+\_\+value\+::itemize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structParse__context}{Parse\+\_\+context}} $\ast$}]{pc,  }\item[{\mbox{\hyperlink{classItem}{Item}} $\ast$$\ast$}]{res }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

The same as contextualize()/contextualize\+\_\+() but with additional parameter

This function finalize the construction of \mbox{\hyperlink{classItem}{Item}} objects (see the \mbox{\hyperlink{classItem}{Item(\+P\+O\+S)}} constructor)\+: we can access/change parser contexts from the \mbox{\hyperlink{classItem__insert__value_a113d00e28d63795bfd89d65dad61e769}{itemize()}} function.


\begin{DoxyParams}[1]{Parameters}
 & {\em pc} & current parse context \\
\hline
\mbox{\texttt{ out}}  & {\em res} & pointer to \char`\"{}this\char`\"{} or to a newly allocated replacement object to use in the \mbox{\hyperlink{classItem}{Item}} tree instead\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em false} & success \\
\hline
{\em true} & syntax/\+O\+O\+M/etc error \\
\hline
\end{DoxyRetVals}


Reimplemented from \mbox{\hyperlink{classItem__field_a6220537b7094a20e4dfb15e229e1a33c}{Item\+\_\+field}}.

\mbox{\Hypertarget{classItem__insert__value_abbba2f565d5a63803b693a03f7184d14}\label{classItem__insert__value_abbba2f565d5a63803b693a03f7184d14}} 
\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}!print@{print}}
\index{print@{print}!Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
\subsubsection{\texorpdfstring{print()}{print()}}
{\footnotesize\ttfamily void Item\+\_\+insert\+\_\+value\+::print (\begin{DoxyParamCaption}\item[{String $\ast$}]{str,  }\item[{enum\+\_\+query\+\_\+type}]{query\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This method is used for to\+:
\begin{DoxyItemize}
\item to generate a view definition query (S\+E\+L\+E\+CT-\/statement);
\item to generate a S\+QL-\/query for E\+X\+P\+L\+A\+IN E\+X\+T\+E\+N\+D\+ED;
\item to generate a S\+QL-\/query to be shown in I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+S\+C\+H\+E\+MA;
\item to generate a S\+QL-\/query that looks like a prepared statement for query\+\_\+rewrite
\item debug.
\end{DoxyItemize}

For more information about view definition query, I\+N\+F\+O\+R\+M\+A\+T\+I\+O\+N\+\_\+\+S\+C\+H\+E\+MA query and why they should be generated from the \mbox{\hyperlink{classItem}{Item}}-\/tree, \begin{DoxySeeAlso}{See also}
mysql\+\_\+register\+\_\+view(). 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{classItem__field_a40b28e2bc9886f81e8ad19c64efb1408}{Item\+\_\+field}}.

\mbox{\Hypertarget{classItem__insert__value_a66064a4540fb76d611f806c195c40886}\label{classItem__insert__value_a66064a4540fb76d611f806c195c40886}} 
\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}!save\+\_\+in\+\_\+field\+\_\+inner@{save\+\_\+in\+\_\+field\+\_\+inner}}
\index{save\+\_\+in\+\_\+field\+\_\+inner@{save\+\_\+in\+\_\+field\+\_\+inner}!Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
\subsubsection{\texorpdfstring{save\+\_\+in\+\_\+field\+\_\+inner()}{save\_in\_field\_inner()}}
{\footnotesize\ttfamily type\+\_\+conversion\+\_\+status Item\+\_\+insert\+\_\+value\+::save\+\_\+in\+\_\+field\+\_\+inner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classField}{Field}} $\ast$}]{field,  }\item[{bool}]{no\+\_\+conversions }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Helper function which does all of the work for \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field(\+Field$\ast$, bool)}}, except some error checking common to all subclasses, which is performed by \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}} itself.

Subclasses that need to specialize the behaviour of \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}}, should override this function instead of \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em field} & the field to save the item into \\
\hline
 & {\em no\+\_\+conversions} & whether or not to allow conversions of the value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the status from saving into the field 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em T\+Y\+P\+E\+\_\+\+OK} & item saved without any errors or warnings \\
\hline
{\em !=} & T\+Y\+P\+E\+\_\+\+OK there were errors or warnings when saving the item \\
\hline
\end{DoxyRetVals}


Reimplemented from \mbox{\hyperlink{classItem__field_a6a89af67b3665a4d25c24300fa8e298e}{Item\+\_\+field}}.

\mbox{\Hypertarget{classItem__insert__value_a7023df48fccb11a014d348cbde3b35c6}\label{classItem__insert__value_a7023df48fccb11a014d348cbde3b35c6}} 
\index{Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}!walk@{walk}}
\index{walk@{walk}!Item\+\_\+insert\+\_\+value@{Item\+\_\+insert\+\_\+value}}
\subsubsection{\texorpdfstring{walk()}{walk()}}
{\footnotesize\ttfamily bool Item\+\_\+insert\+\_\+value\+::walk (\begin{DoxyParamCaption}\item[{Item\+\_\+processor}]{processor,  }\item[{\mbox{\hyperlink{classItem_a4e68f315ba2a26543339e9f0efed3695}{enum\+\_\+walk}}}]{walk,  }\item[{uchar $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Traverses a tree of Items in prefix and/or postfix order. Optionally walks into subqueries.


\begin{DoxyParams}{Parameters}
{\em processor} & processor function to be invoked per item returns true to abort traversal, false to continue \\
\hline
{\em walk} & controls how to traverse the item tree W\+A\+L\+K\+\_\+\+P\+R\+E\+F\+IX\+: call processor before invoking children W\+A\+L\+K\+\_\+\+P\+O\+S\+T\+F\+IX\+: call processor after invoking children W\+A\+L\+K\+\_\+\+S\+U\+B\+Q\+U\+E\+RY go down into subqueries walk values are bit-\/coded and may be combined. Omitting both W\+A\+L\+K\+\_\+\+P\+R\+E\+F\+IX and W\+A\+L\+K\+\_\+\+P\+O\+S\+T\+F\+IX is undefined behaviour. \\
\hline
{\em arg} & Optional pointer to a walk-\/specific object\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em false} & walk succeeded \\
\hline
{\em true} & walk aborted by agreement, an error may have been reported \\
\hline
\end{DoxyRetVals}


Reimplemented from \mbox{\hyperlink{classItem__ident_ab74fffc591821c7bc35929085ad82cf9}{Item\+\_\+ident}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
item.\+h\item 
item.\+cc\end{DoxyCompactItemize}
