\hypertarget{classGis__wkb__vector}{}\section{Gis\+\_\+wkb\+\_\+vector$<$ T $>$ Class Template Reference}
\label{classGis__wkb__vector}\index{Gis\+\_\+wkb\+\_\+vector$<$ T $>$@{Gis\+\_\+wkb\+\_\+vector$<$ T $>$}}


{\ttfamily \#include $<$spatial.\+h$>$}

Inheritance diagram for Gis\+\_\+wkb\+\_\+vector$<$ T $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classGis__wkb__vector}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a2e732103178cf37f28e12ac3fcf8dbad}\label{classGis__wkb__vector_a2e732103178cf37f28e12ac3fcf8dbad}} 
typedef T {\bfseries value\+\_\+type}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_aa837f1d06eced6862e92a17571e1210d}\label{classGis__wkb__vector_aa837f1d06eced6862e92a17571e1210d}} 
typedef \mbox{\hyperlink{classGis__wkb__vector__const__iterator}{Gis\+\_\+wkb\+\_\+vector\+\_\+const\+\_\+iterator}}$<$ T $>$ {\bfseries const\+\_\+iterator}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a9743445c35e4529e32b8b52eef27ae43}\label{classGis__wkb__vector_a9743445c35e4529e32b8b52eef27ae43}} 
typedef \mbox{\hyperlink{classGis__wkb__vector__iterator}{Gis\+\_\+wkb\+\_\+vector\+\_\+iterator}}$<$ T $>$ {\bfseries iterator}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a04e337aec3bab6278a242ad9fd467990}\label{classGis__wkb__vector_a04e337aec3bab6278a242ad9fd467990}} 
typedef size\+\_\+t {\bfseries size\+\_\+type}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a5916d41df432d011f36b9f1919e06a9c}\label{classGis__wkb__vector_a5916d41df432d011f36b9f1919e06a9c}} 
typedef const T $\ast$ {\bfseries const\+\_\+pointer}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a998e8e4395b7d8f6109617aeabf75e17}\label{classGis__wkb__vector_a998e8e4395b7d8f6109617aeabf75e17}} 
typedef const T \& {\bfseries const\+\_\+reference}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_ab387587101b003de7423e56f591a41da}\label{classGis__wkb__vector_ab387587101b003de7423e56f591a41da}} 
typedef T $\ast$ {\bfseries pointer}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_aeb3025cfa5235dce3859d869bfe31f4f}\label{classGis__wkb__vector_aeb3025cfa5235dce3859d869bfe31f4f}} 
typedef T \& {\bfseries reference}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a630e214e956989fa8431697a3fdcf222}\label{classGis__wkb__vector_a630e214e956989fa8431697a3fdcf222}} 
typedef ptrdiff\+\_\+t {\bfseries difference\+\_\+type}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_aed9523b7a8ad7857b0e9d35a16b32233}\label{classGis__wkb__vector_aed9523b7a8ad7857b0e9d35a16b32233}} 
typedef \mbox{\hyperlink{classGeometry__vector}{Geometry\+\_\+vector}}$<$ T $>$ {\bfseries Geo\+\_\+vector}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
size\+\_\+type \mbox{\hyperlink{classGis__wkb__vector_ab2674617e53e783614911ad5cfe890b7}{size}} () const
\begin{DoxyCompactList}\small\item\em Get container size. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGis__wkb__vector_ac9abeea1b7a84bf5e8e60dbbeb60395d}\label{classGis__wkb__vector_ac9abeea1b7a84bf5e8e60dbbeb60395d}} 
bool {\bfseries empty} () const
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a2476eaba0e78a890a5af5b9c3c5e9294}\label{classGis__wkb__vector_a2476eaba0e78a890a5af5b9c3c5e9294}} 
const\+\_\+reference {\bfseries back} () const
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a86256755bde9d698f54068024ac6927e}\label{classGis__wkb__vector_a86256755bde9d698f54068024ac6927e}} 
reference {\bfseries back} ()
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a5465166f513105d4ea1673895f695272}\label{classGis__wkb__vector_a5465166f513105d4ea1673895f695272}} 
const\+\_\+reference {\bfseries operator\mbox{[}$\,$\mbox{]}} (index\+\_\+type i) const
\item 
\mbox{\Hypertarget{classGis__wkb__vector_ad64ea2b3a124273033f8e76d98819a3b}\label{classGis__wkb__vector_ad64ea2b3a124273033f8e76d98819a3b}} 
reference {\bfseries operator\mbox{[}$\,$\mbox{]}} (index\+\_\+type i)
\item 
\mbox{\hyperlink{classGis__wkb__vector_a2438c0e293166b7b4a30e19925a423b1}{Gis\+\_\+wkb\+\_\+vector}} (const void $\ast$ptr, size\+\_\+t nbytes, const \mbox{\hyperlink{classGeometry_1_1Flags__t}{Flags\+\_\+t}} \&flags, srid\+\_\+t srid, bool \mbox{\hyperlink{classGeometry_ada614004627a9e7af129e51a34242af9}{is\+\_\+bg\+\_\+adapter}}=true)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGis__wkb__vector_a29dda00bc60238e919db14e2b69ffe16}\label{classGis__wkb__vector_a29dda00bc60238e919db14e2b69ffe16}} 
{\bfseries Gis\+\_\+wkb\+\_\+vector} (const \mbox{\hyperlink{classGis__wkb__vector}{self}} \&v)
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a93c40f113c9932bd04349e8629b6eacb}\label{classGis__wkb__vector_a93c40f113c9932bd04349e8629b6eacb}} 
void {\bfseries clear\+\_\+wkb\+\_\+data} ()
\item 
\mbox{\hyperlink{classGis__wkb__vector}{self}} \& \mbox{\hyperlink{classGis__wkb__vector_a9e183f3cd3142637dd6edfe7682184b7}{operator=}} (const \mbox{\hyperlink{classGis__wkb__vector}{self}} \&rhs)
\item 
virtual void \mbox{\hyperlink{classGis__wkb__vector_a32edb92094841a33b5613cffe467cdcf}{shallow\+\_\+push}} (const \mbox{\hyperlink{classGeometry}{Geometry}} $\ast$g)
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a88c4c0d534d3921bff93a9a7ea461954}\label{classGis__wkb__vector_a88c4c0d534d3921bff93a9a7ea461954}} 
\mbox{\hyperlink{classGeometry__vector}{Geo\+\_\+vector}} $\ast$ {\bfseries get\+\_\+geo\+\_\+vect} (bool create\+\_\+if\+\_\+null=false)
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a3d5b825255d23d6b53db9646aad6b9cb}\label{classGis__wkb__vector_a3d5b825255d23d6b53db9646aad6b9cb}} 
\mbox{\hyperlink{classGeometry__vector}{Geo\+\_\+vector}} $\ast$ {\bfseries get\+\_\+geo\+\_\+vect} () const
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a276f5a0f77ae2d92e7cd8f272e3653f5}\label{classGis__wkb__vector_a276f5a0f77ae2d92e7cd8f272e3653f5}} 
void {\bfseries set\+\_\+geo\+\_\+vect} (\mbox{\hyperlink{classGeometry__vector}{Geo\+\_\+vector}} $\ast$ptr)
\item 
\mbox{\Hypertarget{classGis__wkb__vector_aed1ac21ec1a0a348741bb36ac1b1e991}\label{classGis__wkb__vector_aed1ac21ec1a0a348741bb36ac1b1e991}} 
virtual void {\bfseries donate\+\_\+data} ()
\item 
\mbox{\Hypertarget{classGis__wkb__vector_ad922c2faae97e9d106c6a3f1aa34980e}\label{classGis__wkb__vector_ad922c2faae97e9d106c6a3f1aa34980e}} 
void {\bfseries set\+\_\+ptr} (void $\ast$ptr, size\+\_\+t len)
\item 
void \mbox{\hyperlink{classGis__wkb__vector_a99d744483968b46dc086d156dff6be2f}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clear geometry data of this object. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classGis__wkb__vector_a71d71fe9cbec2ea04c9b08f9278a490a}{get\+\_\+nbytes\+\_\+free}} () const
\item 
size\+\_\+t \mbox{\hyperlink{classGis__wkb__vector_a740c7d54f53fb0e4da20f63b5211d9a2}{current\+\_\+size}} () const
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a5434d7f7e1af87e13fafde6eed3329f6}\label{classGis__wkb__vector_a5434d7f7e1af87e13fafde6eed3329f6}} 
void {\bfseries push\+\_\+back} (const T \&val)
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a13e2c0f2d7a66a3e297728585df06834}\label{classGis__wkb__vector_a13e2c0f2d7a66a3e297728585df06834}} 
void {\bfseries resize} (size\+\_\+t sz)
\item 
void \mbox{\hyperlink{classGis__wkb__vector_a570dda402fe9aef5438098fe5714086c}{reassemble}} ()
\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Iterator functions.}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classGis__wkb__vector_a2ab4781853bc7f9018c0730c42204319}\label{classGis__wkb__vector_a2ab4781853bc7f9018c0730c42204319}} 
\mbox{\hyperlink{classGis__wkb__vector__iterator}{iterator}} {\bfseries begin} ()
\item 
\mbox{\hyperlink{classGis__wkb__vector__const__iterator}{const\+\_\+iterator}} \mbox{\hyperlink{classGis__wkb__vector_a312062fdc578f38fec1b07912f53963f}{begin}} () const
\begin{DoxyCompactList}\small\item\em Create a const iterator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classGis__wkb__vector__iterator}{iterator}} \mbox{\hyperlink{classGis__wkb__vector_a0aba1035ea56f3a9d5ffe4b73efd6a24}{end}} ()
\begin{DoxyCompactList}\small\item\em Create an open boundary iterator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classGis__wkb__vector__const__iterator}{const\+\_\+iterator}} \mbox{\hyperlink{classGis__wkb__vector_a02a1d360d52ee8ecf407e320ec53f0ba}{end}} () const
\begin{DoxyCompactList}\small\item\em Create an open boundary iterator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\subsubsection*{template$<$typename T$>$\newline
class Gis\+\_\+wkb\+\_\+vector$<$ T $>$}

\mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}} class template definition 
\begin{DoxyTemplParams}{Template Parameters}
{\em T} & Vector element type \\
\hline
\end{DoxyTemplParams}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classGis__wkb__vector_a2438c0e293166b7b4a30e19925a423b1}\label{classGis__wkb__vector_a2438c0e293166b7b4a30e19925a423b1}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{Gis\+\_\+wkb\+\_\+vector()}{Gis\_wkb\_vector()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::\mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}} (\begin{DoxyParamCaption}\item[{const void $\ast$}]{ptr,  }\item[{size\+\_\+t}]{nbytes,  }\item[{const \mbox{\hyperlink{classGeometry_1_1Flags__t}{Flags\+\_\+t}} \&}]{flags,  }\item[{srid\+\_\+t}]{srid,  }\item[{bool}]{is\+\_\+bg\+\_\+adapter = {\ttfamily true} }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em ptr} & points to the geometry\textquotesingle{}s wkb data\textquotesingle{}s 1st byte, right after its wkb header if any. \\
\hline
{\em nbytes} & the byte order indicated by ptr\textquotesingle{}s wkb header. \\
\hline
{\em is\+\_\+bg\+\_\+adapter} & Whether this object is created to be used by Boost \mbox{\hyperlink{classGeometry}{Geometry}}, or to be only used in My\+S\+QL code. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classGis__wkb__vector_a312062fdc578f38fec1b07912f53963f}\label{classGis__wkb__vector_a312062fdc578f38fec1b07912f53963f}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!begin@{begin}}
\index{begin@{begin}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily template$<$typename T$>$ \\
\mbox{\hyperlink{classGis__wkb__vector__const__iterator}{const\+\_\+iterator}} \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Create a const iterator. 

The created iterator can only be used to read its referenced data element. Can only be called when using a const reference to the contaienr object. \mbox{\Hypertarget{classGis__wkb__vector_a99d744483968b46dc086d156dff6be2f}\label{classGis__wkb__vector_a99d744483968b46dc086d156dff6be2f}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!clear@{clear}}
\index{clear@{clear}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
template void \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clear geometry data of this object. 

Update support We suppose updating a geometry can happen in the following ways\+:
\begin{DoxyEnumerate}
\item create an empty geo, then append components into it, the geo must be a topmost one; a complex geometry such as a multilinestring can be seen as a tree of geometry components, and the mlstr is the topmost geometry, i.\+e. the root of the tree, its lstrs are next layer of nodes, their points are the 3rd layer of tree nodes. Only the root owns the wkb buffer, other components point somewhere into the buffer, and can only read the data.

Polygons are only used by getting its exterior ring or inner rings and then work on that/those rings, never used as a whole.
\item $\ast$itr=value, each geo\+::m\+\_\+owner can be used to track the topmost memory owner, and do reallocation to accormodate the value. This is for now not supported, will be if needed.

So far geometry assignment are only used for point objects in boost geometry, thus only \mbox{\hyperlink{classGeometry}{Geometry}} and \mbox{\hyperlink{classGis__point}{Gis\+\_\+point}} have operator=, no other classes need so, and thus there is no need for reallocation.
\item call resize() to append some objects at the end, then assign/append values to the added objects using push\+\_\+back. Objects added this way are out of line(unless the object is a point), and user need to call \mbox{\hyperlink{classGis__wkb__vector_a570dda402fe9aef5438098fe5714086c}{reassemble()}} to make them inline, i.\+e. stored in its owner\textquotesingle{}s memory. 
\end{DoxyEnumerate}\mbox{\Hypertarget{classGis__wkb__vector_a740c7d54f53fb0e4da20f63b5211d9a2}\label{classGis__wkb__vector_a740c7d54f53fb0e4da20f63b5211d9a2}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!current\+\_\+size@{current\+\_\+size}}
\index{current\+\_\+size@{current\+\_\+size}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{current\+\_\+size()}{current\_size()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
size\+\_\+t \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::current\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns payload number of bytes of the topmost geometry holding this geometry, i.\+e. the memory owner. \mbox{\Hypertarget{classGis__wkb__vector_a0aba1035ea56f3a9d5ffe4b73efd6a24}\label{classGis__wkb__vector_a0aba1035ea56f3a9d5ffe4b73efd6a24}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!end@{end}}
\index{end@{end}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{end()}{end()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T$>$ \\
\mbox{\hyperlink{classGis__wkb__vector__iterator}{iterator}} \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::end (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Create an open boundary iterator. 

\begin{DoxyReturn}{Returns}
Returns an invalid iterator denoting the position after the last valid element of the container. 
\end{DoxyReturn}
\mbox{\Hypertarget{classGis__wkb__vector_a02a1d360d52ee8ecf407e320ec53f0ba}\label{classGis__wkb__vector_a02a1d360d52ee8ecf407e320ec53f0ba}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!end@{end}}
\index{end@{end}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{end()}{end()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T$>$ \\
\mbox{\hyperlink{classGis__wkb__vector__const__iterator}{const\+\_\+iterator}} \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::end (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Create an open boundary iterator. 

\begin{DoxyReturn}{Returns}
Returns an invalid const iterator denoting the position after the last valid element of the container. 
\end{DoxyReturn}
\mbox{\Hypertarget{classGis__wkb__vector_a71d71fe9cbec2ea04c9b08f9278a490a}\label{classGis__wkb__vector_a71d71fe9cbec2ea04c9b08f9278a490a}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!get\+\_\+nbytes\+\_\+free@{get\+\_\+nbytes\+\_\+free}}
\index{get\+\_\+nbytes\+\_\+free@{get\+\_\+nbytes\+\_\+free}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{get\+\_\+nbytes\+\_\+free()}{get\_nbytes\_free()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
size\+\_\+t \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::get\+\_\+nbytes\+\_\+free (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Get number of free bytes in the buffer held by m\+\_\+ptr. this object must be an topmost geometry which owns memory. \mbox{\Hypertarget{classGis__wkb__vector_a9e183f3cd3142637dd6edfe7682184b7}\label{classGis__wkb__vector_a9e183f3cd3142637dd6edfe7682184b7}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!operator=@{operator=}}
\index{operator=@{operator=}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$ \& \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classGis__wkb__vector}{self}} \&}]{rhs }\end{DoxyParamCaption})}

Deep assignment from vector \textquotesingle{}rhs\textquotesingle{} to this object. 
\begin{DoxyParams}{Parameters}
{\em rhs} & the Gis\+\_\+wkb\+\_\+vector$<$\+T$>$ instance to duplicate from. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classGis__wkb__vector_a570dda402fe9aef5438098fe5714086c}\label{classGis__wkb__vector_a570dda402fe9aef5438098fe5714086c}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!reassemble@{reassemble}}
\index{reassemble@{reassemble}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{reassemble()}{reassemble()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::reassemble (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Because of resize, a geometry\textquotesingle{}s components may reside not in one chunk, some may in the m\+\_\+ptr\textquotesingle{}s chunk; others have their own memory and only exist in m\+\_\+geo\+\_\+vect vector, not in ptr\textquotesingle{}s chunk. Also, a constructed polygon\textquotesingle{}s data is always not in a chunk and needs to be so when it\textquotesingle{}s pushed into a multipolygon/geometry collection. Thus in mysql before using the returned geometry, also inside the container classes before using the wkb data or clearing m\+\_\+geo\+\_\+vect, we need to make them inline, i.\+e. reside in one chunk of memory. Can only resize a topmost geometry, thus no recursive reassemling to do for now.

Algorithm\+:

Step 1. Structure analysis

Scan this geometry\textquotesingle{}s components, see whether each of them has its own memory, if so it\textquotesingle{}s \textquotesingle{}out of line\textquotesingle{}, otherwise it\textquotesingle{}s \textquotesingle{}inline\textquotesingle{}. Note down those owning memory in a map M1, for each entry X in the map M1, the component\textquotesingle{}s index in the component vector m\+\_\+geo\+\_\+vect is used as key; The inline chunk of memory right before it which may have any number of inline components, and the inline chunk\textquotesingle{}s start and end address pair is used as value of the inserted item X. If there is no inline chunk before the component, X\textquotesingle{}s pointer range is (0, 0). The inline chunk\textquotesingle{}s starting address is well maintained during the scan.

Step 2. Reassembling

Allocate enough memory space (the length is accumulated in step 1) as W\+KB buffer and call it G\+Buf here, then copy the W\+KB of inline and out-\/of-\/line geometries into G\+Buf in original order\+: Go through the map by index order, for each item, copy the W\+KB chunk before it into the W\+KB buffer, then copy this out-\/of-\/line geometry\textquotesingle{}s W\+KB into G\+Buf.

Special treatment of polygon\+: we have to pack its value and store their W\+KB separately into a map GP in step 1, and in step 2 for a polygon, get its W\+KB from GP, and at the end release W\+KB memory buffers held by items of GP. \mbox{\Hypertarget{classGis__wkb__vector_a32edb92094841a33b5613cffe467cdcf}\label{classGis__wkb__vector_a32edb92094841a33b5613cffe467cdcf}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!shallow\+\_\+push@{shallow\+\_\+push}}
\index{shallow\+\_\+push@{shallow\+\_\+push}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{shallow\+\_\+push()}{shallow\_push()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::shallow\+\_\+push (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classGeometry}{Geometry}} $\ast$}]{g }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

The copy constructors of \mbox{\hyperlink{classGeometry}{Geometry}} classes always do deep copy, but when pushing a \mbox{\hyperlink{classGeometry}{Geometry}} object into its owner\textquotesingle{}s geo.\+m\+\_\+geo\+\_\+vect, we want to do shallow copy because we want all elements in geo.\+m\+\_\+geo\+\_\+vect vector point into locations in the geo.\+m\+\_\+ptr buffer. In such situations call this function. 
\begin{DoxyParams}{Parameters}
{\em g} & The \mbox{\hyperlink{classGeometry}{Geometry}} object to push into vec. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The address of the \mbox{\hyperlink{classGeometry}{Geometry}} object stored in vec. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classGeometry}{Geometry}}.

\mbox{\Hypertarget{classGis__wkb__vector_ab2674617e53e783614911ad5cfe890b7}\label{classGis__wkb__vector_ab2674617e53e783614911ad5cfe890b7}} 
\index{Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}!size@{size}}
\index{size@{size}!Gis\+\_\+wkb\+\_\+vector@{Gis\+\_\+wkb\+\_\+vector}}
\subsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily template$<$typename T$>$ \\
size\+\_\+type \mbox{\hyperlink{classGis__wkb__vector}{Gis\+\_\+wkb\+\_\+vector}}$<$ T $>$\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get container size. 

\begin{DoxyReturn}{Returns}
Return the number of elements in this container. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
spatial.\+h\item 
spatial.\+cc\end{DoxyCompactItemize}
