\hypertarget{classItem__copy}{}\section{Item\+\_\+copy Class Reference}
\label{classItem__copy}\index{Item\+\_\+copy@{Item\+\_\+copy}}


{\ttfamily \#include $<$item.\+h$>$}

Inheritance diagram for Item\+\_\+copy\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.409449cm]{classItem__copy}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{classItem__copy_a575caec22eeb27fb76d5aa74b1a8d492}{copy}} (const T\+HD $\ast$thd)=0
\item 
\mbox{\Hypertarget{classItem__copy_a8f6f844bee525849fdb24cf8d2d71142}\label{classItem__copy_a8f6f844bee525849fdb24cf8d2d71142}} 
\mbox{\hyperlink{classItem}{Item}} $\ast$ {\bfseries get\+\_\+item} ()
\item 
enum Type \mbox{\hyperlink{classItem__copy_a45b09a8da9a70f34540347eba70ace32}{type}} () const
\item 
\mbox{\Hypertarget{classItem__copy_a9748f715a7860248027b46db23e78be4}\label{classItem__copy_a9748f715a7860248027b46db23e78be4}} 
enum\+\_\+field\+\_\+types {\bfseries field\+\_\+type} () const
\item 
\mbox{\Hypertarget{classItem__copy_a4c288534e8f46b1f281f5606193b72ca}\label{classItem__copy_a4c288534e8f46b1f281f5606193b72ca}} 
enum Item\+\_\+result {\bfseries result\+\_\+type} () const
\item 
\mbox{\Hypertarget{classItem__copy_a5cf4a9b6d1b21b21da9ace7bb20b5705}\label{classItem__copy_a5cf4a9b6d1b21b21da9ace7bb20b5705}} 
void {\bfseries make\+\_\+field} (\mbox{\hyperlink{classSend__field}{Send\+\_\+field}} $\ast$field)
\item 
\mbox{\Hypertarget{classItem__copy_a72669f7243c14a33255b3b7d2ceb9850}\label{classItem__copy_a72669f7243c14a33255b3b7d2ceb9850}} 
table\+\_\+map {\bfseries used\+\_\+tables} () const
\item 
\mbox{\Hypertarget{classItem__copy_adfe30d6b40b64fb118233e928fabf648}\label{classItem__copy_adfe30d6b40b64fb118233e928fabf648}} 
bool {\bfseries const\+\_\+item} () const
\item 
\mbox{\Hypertarget{classItem__copy_a1857f005b3c8ddc71251c4acf76f4547}\label{classItem__copy_a1857f005b3c8ddc71251c4acf76f4547}} 
bool {\bfseries is\+\_\+null} ()
\item 
\mbox{\Hypertarget{classItem__copy_a66e498d21705e421ad4a04132111fc01}\label{classItem__copy_a66e498d21705e421ad4a04132111fc01}} 
virtual void {\bfseries no\+\_\+rows\+\_\+in\+\_\+result} ()
\item 
\mbox{\Hypertarget{classItem__copy_a7eafd69655e91b4a77c4184c05b6e06b}\label{classItem__copy_a7eafd69655e91b4a77c4184c05b6e06b}} 
virtual String $\ast$ {\bfseries val\+\_\+str} (String $\ast$)=0
\item 
\mbox{\Hypertarget{classItem__copy_ae33854ef9fd9897afddf2db52cac1ec9}\label{classItem__copy_ae33854ef9fd9897afddf2db52cac1ec9}} 
virtual \mbox{\hyperlink{classmy__decimal}{my\+\_\+decimal}} $\ast$ {\bfseries val\+\_\+decimal} (\mbox{\hyperlink{classmy__decimal}{my\+\_\+decimal}} $\ast$)=0
\item 
\mbox{\Hypertarget{classItem__copy_a13b571456e140784f9f28eb45cebece2}\label{classItem__copy_a13b571456e140784f9f28eb45cebece2}} 
virtual double {\bfseries val\+\_\+real} ()=0
\item 
\mbox{\Hypertarget{classItem__copy_a4ca63683b0932c4f074524dcf92051d3}\label{classItem__copy_a4ca63683b0932c4f074524dcf92051d3}} 
virtual longlong {\bfseries val\+\_\+int} ()=0
\item 
\mbox{\Hypertarget{classItem__copy_a0e0ebb5a6c84bb6031706ba3080c72f7}\label{classItem__copy_a0e0ebb5a6c84bb6031706ba3080c72f7}} 
virtual bool {\bfseries get\+\_\+date} (M\+Y\+S\+Q\+L\+\_\+\+T\+I\+ME $\ast$ltime, my\+\_\+time\+\_\+flags\+\_\+t fuzzydate)=0
\item 
\mbox{\Hypertarget{classItem__copy_a44d7aabf33e8acec5533b76c6a17269e}\label{classItem__copy_a44d7aabf33e8acec5533b76c6a17269e}} 
virtual bool {\bfseries get\+\_\+time} (M\+Y\+S\+Q\+L\+\_\+\+T\+I\+ME $\ast$ltime)=0
\item 
virtual bool \mbox{\hyperlink{classItem__copy_ab74e3b8e79f623d7caabec195ab69a11}{val\+\_\+json}} (\mbox{\hyperlink{classJson__wrapper}{Json\+\_\+wrapper}} $\ast$wr)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classItem__copy}{Item\+\_\+copy}} $\ast$ \mbox{\hyperlink{classItem__copy_af6d92b94c26733316776b982dae9d8fe}{create}} (\mbox{\hyperlink{classItem}{Item}} $\ast$\mbox{\hyperlink{classItem__copy_a9ef1b9fd547a3b940e89e9837083c87f}{item}})
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classItem__copy_af5168f3a1773e2cce8b34de3cec425b2}{Item\+\_\+copy}} (\mbox{\hyperlink{classItem}{Item}} $\ast$i)
\item 
virtual type\+\_\+conversion\+\_\+status \mbox{\hyperlink{classItem__copy_af4b55bf8c530188fa2110728a512811b}{save\+\_\+in\+\_\+field\+\_\+inner}} (\mbox{\hyperlink{classField}{Field}} $\ast$field, bool no\+\_\+conversions)=0
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
enum enum\+\_\+field\+\_\+types \mbox{\hyperlink{classItem__copy_a2b2bd611a7e3e0336047fd591e59e740}{cached\+\_\+field\+\_\+type}}
\item 
\mbox{\hyperlink{classItem}{Item}} $\ast$ \mbox{\hyperlink{classItem__copy_a9ef1b9fd547a3b940e89e9837083c87f}{item}}
\item 
Item\+\_\+result \mbox{\hyperlink{classItem__copy_a4d6be8ad88366f64c79477f0f145b72d}{cached\+\_\+result\+\_\+type}}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Base class to implement typed value caching \mbox{\hyperlink{classItem}{Item}} classes

Item\+\_\+copy\+\_\+ classes are very similar to the corresponding Item\+\_\+ classes (e.\+g. \mbox{\hyperlink{classItem__copy__int}{Item\+\_\+copy\+\_\+int}} is similar to \mbox{\hyperlink{classItem__int}{Item\+\_\+int}}) but they add the following additional functionality to Item\+\_\+ \+:
\begin{DoxyEnumerate}
\item Nullability
\item Possibility to store the value not only on instantiation time, but also later. Item\+\_\+copy\+\_\+ classes are a functionality subset of Item\+\_\+cache\+\_\+ classes, as e.\+g. they don\textquotesingle{}t support comparisons with the original \mbox{\hyperlink{classItem}{Item}} as Item\+\_\+cache\+\_\+ classes do. Item\+\_\+copy\+\_\+ classes are used in G\+R\+O\+UP BY calculation. T\+O\+DO\+: \mbox{\hyperlink{classItem__copy}{Item\+\_\+copy}} should be made an abstract interface and Item\+\_\+copy\+\_\+ classes should inherit both the respective Item\+\_\+ class and the interface. Ideally we should drop Item\+\_\+copy\+\_\+ classes altogether and merge their functionality to Item\+\_\+cache\+\_\+ (and these should be made to inherit from Item\+\_\+). 
\end{DoxyEnumerate}

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classItem__copy_af5168f3a1773e2cce8b34de3cec425b2}\label{classItem__copy_af5168f3a1773e2cce8b34de3cec425b2}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!Item\+\_\+copy@{Item\+\_\+copy}}
\index{Item\+\_\+copy@{Item\+\_\+copy}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{Item\+\_\+copy()}{Item\_copy()}}
{\footnotesize\ttfamily Item\+\_\+copy\+::\+Item\+\_\+copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classItem}{Item}} $\ast$}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

Constructor of the \mbox{\hyperlink{classItem__copy}{Item\+\_\+copy}} class

stores metadata information about the original class as well as a pointer to it. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classItem__copy_a575caec22eeb27fb76d5aa74b1a8d492}\label{classItem__copy_a575caec22eeb27fb76d5aa74b1a8d492}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!copy@{copy}}
\index{copy@{copy}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily virtual bool Item\+\_\+copy\+::copy (\begin{DoxyParamCaption}\item[{const T\+HD $\ast$}]{thd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Update the cache with the value of the original item

This is the method that updates the cached value. It must be explicitly called by the user of this class to store the value of the orginal item in the cache. \begin{DoxyReturn}{Returns}
false if OK, true on error. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classItem__copy__decimal_a22459a6e13d4ab30f14818c9b0c65730}{Item\+\_\+copy\+\_\+decimal}}, \mbox{\hyperlink{classItem__copy__float_a33ef4acb20a062adcc037c1473f79bb0}{Item\+\_\+copy\+\_\+float}}, \mbox{\hyperlink{classItem__copy__int_adb454f84e2c727dfc8891347f51c4fae}{Item\+\_\+copy\+\_\+int}}, \mbox{\hyperlink{classItem__copy__json_a061528b6d05583ba76ecec780d4603f7}{Item\+\_\+copy\+\_\+json}}, and \mbox{\hyperlink{classItem__copy__string_a35d49a3dc996343f458a63d62e7bf776}{Item\+\_\+copy\+\_\+string}}.

\mbox{\Hypertarget{classItem__copy_af6d92b94c26733316776b982dae9d8fe}\label{classItem__copy_af6d92b94c26733316776b982dae9d8fe}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!create@{create}}
\index{create@{create}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classItem__copy}{Item\+\_\+copy}} $\ast$ Item\+\_\+copy\+::create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classItem}{Item}} $\ast$}]{item }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Factory method to create the appropriate subclass dependent on the type of the original item.


\begin{DoxyParams}{Parameters}
{\em item} & the original item. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classItem__copy_af4b55bf8c530188fa2110728a512811b}\label{classItem__copy_af4b55bf8c530188fa2110728a512811b}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!save\+\_\+in\+\_\+field\+\_\+inner@{save\+\_\+in\+\_\+field\+\_\+inner}}
\index{save\+\_\+in\+\_\+field\+\_\+inner@{save\+\_\+in\+\_\+field\+\_\+inner}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{save\+\_\+in\+\_\+field\+\_\+inner()}{save\_in\_field\_inner()}}
{\footnotesize\ttfamily virtual type\+\_\+conversion\+\_\+status Item\+\_\+copy\+::save\+\_\+in\+\_\+field\+\_\+inner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classField}{Field}} $\ast$}]{field,  }\item[{bool}]{no\+\_\+conversions }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}

Helper function which does all of the work for \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field(\+Field$\ast$, bool)}}, except some error checking common to all subclasses, which is performed by \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}} itself.

Subclasses that need to specialize the behaviour of \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}}, should override this function instead of \mbox{\hyperlink{classItem_acf4c1888a07e9e0dd5787283c6569545}{save\+\_\+in\+\_\+field()}}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em field} & the field to save the item into \\
\hline
 & {\em no\+\_\+conversions} & whether or not to allow conversions of the value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the status from saving into the field 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em T\+Y\+P\+E\+\_\+\+OK} & item saved without any errors or warnings \\
\hline
{\em !=} & T\+Y\+P\+E\+\_\+\+OK there were errors or warnings when saving the item \\
\hline
\end{DoxyRetVals}


Reimplemented from \mbox{\hyperlink{classItem_a463ded5f3c21ed2508dd8fddc6024722}{Item}}.



Implemented in \mbox{\hyperlink{classItem__copy__decimal_a8e57c99667202306a06a0c46d8f4597a}{Item\+\_\+copy\+\_\+decimal}}, \mbox{\hyperlink{classItem__copy__float_a02adac943fb28891430337f1b64a7595}{Item\+\_\+copy\+\_\+float}}, \mbox{\hyperlink{classItem__copy__int_add731c9db4197e971b70f6f4b1b988cc}{Item\+\_\+copy\+\_\+int}}, \mbox{\hyperlink{classItem__copy__json_a30b375a69d8ab08efa641fc376490804}{Item\+\_\+copy\+\_\+json}}, and \mbox{\hyperlink{classItem__copy__string_ab2594565cca52438e556cbce30e199e6}{Item\+\_\+copy\+\_\+string}}.

\mbox{\Hypertarget{classItem__copy_a45b09a8da9a70f34540347eba70ace32}\label{classItem__copy_a45b09a8da9a70f34540347eba70ace32}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!type@{type}}
\index{type@{type}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{type()}{type()}}
{\footnotesize\ttfamily enum Type Item\+\_\+copy\+::type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

All of the subclasses should have the same type tag 

Implements \mbox{\hyperlink{classItem}{Item}}.

\mbox{\Hypertarget{classItem__copy_ab74e3b8e79f623d7caabec195ab69a11}\label{classItem__copy_ab74e3b8e79f623d7caabec195ab69a11}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!val\+\_\+json@{val\+\_\+json}}
\index{val\+\_\+json@{val\+\_\+json}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{val\+\_\+json()}{val\_json()}}
{\footnotesize\ttfamily virtual bool Item\+\_\+copy\+::val\+\_\+json (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classJson__wrapper}{Json\+\_\+wrapper}} $\ast$}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Get a J\+S\+ON value from an \mbox{\hyperlink{classItem}{Item}}.

All subclasses that can return a J\+S\+ON value, should override this function. The function in the base class is not expected to be called. If it is called, it most likely means that some subclass is missing an override of \mbox{\hyperlink{classItem__copy_ab74e3b8e79f623d7caabec195ab69a11}{val\+\_\+json()}}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em result} & The resulting \mbox{\hyperlink{classJson__wrapper}{Json\+\_\+wrapper}}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if successful, true on failure 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classItem_a57e763fcde2d0a819d21e31c59611290}{Item}}.



Reimplemented in \mbox{\hyperlink{classItem__copy__json_aead579100651419c06fe93f2e53bb396}{Item\+\_\+copy\+\_\+json}}.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classItem__copy_a2b2bd611a7e3e0336047fd591e59e740}\label{classItem__copy_a2b2bd611a7e3e0336047fd591e59e740}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!cached\+\_\+field\+\_\+type@{cached\+\_\+field\+\_\+type}}
\index{cached\+\_\+field\+\_\+type@{cached\+\_\+field\+\_\+type}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{cached\+\_\+field\+\_\+type}{cached\_field\_type}}
{\footnotesize\ttfamily enum enum\+\_\+field\+\_\+types Item\+\_\+copy\+::cached\+\_\+field\+\_\+type\hspace{0.3cm}{\ttfamily [protected]}}

Stores the type of the resulting field that would be used to store the data in the cache. This is to avoid calls to the original item. \mbox{\Hypertarget{classItem__copy_a4d6be8ad88366f64c79477f0f145b72d}\label{classItem__copy_a4d6be8ad88366f64c79477f0f145b72d}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!cached\+\_\+result\+\_\+type@{cached\+\_\+result\+\_\+type}}
\index{cached\+\_\+result\+\_\+type@{cached\+\_\+result\+\_\+type}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{cached\+\_\+result\+\_\+type}{cached\_result\_type}}
{\footnotesize\ttfamily Item\+\_\+result Item\+\_\+copy\+::cached\+\_\+result\+\_\+type\hspace{0.3cm}{\ttfamily [protected]}}

Stores the result type of the original item, so it can be returned without calling the original item\textquotesingle{}s method \mbox{\Hypertarget{classItem__copy_a9ef1b9fd547a3b940e89e9837083c87f}\label{classItem__copy_a9ef1b9fd547a3b940e89e9837083c87f}} 
\index{Item\+\_\+copy@{Item\+\_\+copy}!item@{item}}
\index{item@{item}!Item\+\_\+copy@{Item\+\_\+copy}}
\subsubsection{\texorpdfstring{item}{item}}
{\footnotesize\ttfamily \mbox{\hyperlink{classItem}{Item}}$\ast$ Item\+\_\+copy\+::item\hspace{0.3cm}{\ttfamily [protected]}}

The original item that is copied 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
item.\+h\item 
item.\+cc\end{DoxyCompactItemize}
