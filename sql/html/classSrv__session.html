<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Srv_session Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classSrv__session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Srv_session Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSrv__session_1_1st__err__protocol__ctx.html">st_err_protocol_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a18b6e470e6fec5df767041054775e0e8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a18b6e470e6fec5df767041054775e0e8">srv_session_state</a> { <b>SRV_SESSION_CREATED</b>, 
<b>SRV_SESSION_ATTACHED</b>, 
<b>SRV_SESSION_DETACHED</b>, 
<b>SRV_SESSION_CLOSED</b>
 }</td></tr>
<tr class="separator:a18b6e470e6fec5df767041054775e0e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3f79b456c9e365806f12ee5aa67bfbcb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a3f79b456c9e365806f12ee5aa67bfbcb">Srv_session</a> (srv_session_error_cb err_cb, void *err_cb_ctx)</td></tr>
<tr class="separator:a3f79b456c9e365806f12ee5aa67bfbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99347e58c5498ce76891ace87456562f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a99347e58c5498ce76891ace87456562f">open</a> ()</td></tr>
<tr class="separator:a99347e58c5498ce76891ace87456562f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73df8d1a4af78c58ffaacb6097ccf74d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a73df8d1a4af78c58ffaacb6097ccf74d">attach</a> ()</td></tr>
<tr class="separator:a73df8d1a4af78c58ffaacb6097ccf74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab2665c1d523681147c5f502847a126"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a3ab2665c1d523681147c5f502847a126">detach</a> ()</td></tr>
<tr class="separator:a3ab2665c1d523681147c5f502847a126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4254885df510bcca1d1cdc88c9366028"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a4254885df510bcca1d1cdc88c9366028">close</a> ()</td></tr>
<tr class="separator:a4254885df510bcca1d1cdc88c9366028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e0d134096447b8f368499bb840201c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a53e0d134096447b8f368499bb840201c">is_attached</a> () const</td></tr>
<tr class="separator:a53e0d134096447b8f368499bb840201c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30f0a176fbc3ce50c5f596ab394ab42f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a30f0a176fbc3ce50c5f596ab394ab42f">execute_command</a> (enum enum_server_command command, const union COM_DATA *data, const CHARSET_INFO *client_cs, const struct st_command_service_cbs *command_callbacks, enum cs_text_or_binary text_or_binary, void *callbacks_context)</td></tr>
<tr class="separator:a30f0a176fbc3ce50c5f596ab394ab42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeee05328ba7f7be16a12c5cb853945c"><td class="memItemLeft" align="right" valign="top">THD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#afeee05328ba7f7be16a12c5cb853945c">get_thd</a> ()</td></tr>
<tr class="separator:afeee05328ba7f7be16a12c5cb853945c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acafc348256db7c721c5a6f9d41dee2"><td class="memItemLeft" align="right" valign="top">my_thread_id&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a9acafc348256db7c721c5a6f9d41dee2">get_session_id</a> () const</td></tr>
<tr class="separator:a9acafc348256db7c721c5a6f9d41dee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878dc80c2ab07372ba9ae8cbafb0caa1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a878dc80c2ab07372ba9ae8cbafb0caa1">get_client_port</a> () const</td></tr>
<tr class="separator:a878dc80c2ab07372ba9ae8cbafb0caa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4af0d7cf8b34661a3ec6f839f39f7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a3d4af0d7cf8b34661a3ec6f839f39f7f">set_client_port</a> (uint16_t port)</td></tr>
<tr class="separator:a3d4af0d7cf8b34661a3ec6f839f39f7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da787fab7bb8d045441efa8e2c2aa3c"><td class="memItemLeft" align="right" valign="top">LEX_CSTRING&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a7da787fab7bb8d045441efa8e2c2aa3c">get_current_database</a> () const</td></tr>
<tr class="separator:a7da787fab7bb8d045441efa8e2c2aa3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93957a74e9e34a490425cd03de471650"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a93957a74e9e34a490425cd03de471650">set_connection_type</a> (enum_vio_type type)</td></tr>
<tr class="separator:a93957a74e9e34a490425cd03de471650"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa0dbb3e216c720bb38d81b172d6118de"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#aa0dbb3e216c720bb38d81b172d6118de">module_init</a> ()</td></tr>
<tr class="separator:aa0dbb3e216c720bb38d81b172d6118de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c54d3bf9fc6ae6236b8b18b5354b714"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a1c54d3bf9fc6ae6236b8b18b5354b714">module_deinit</a> ()</td></tr>
<tr class="separator:a1c54d3bf9fc6ae6236b8b18b5354b714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94790b19dd27e8bd99c58ac74ff33280"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a94790b19dd27e8bd99c58ac74ff33280">init_thread</a> (const void *plugin)</td></tr>
<tr class="separator:a94790b19dd27e8bd99c58ac74ff33280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af092a96167d9b06d812a17ee67db3780"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#af092a96167d9b06d812a17ee67db3780">deinit_thread</a> ()</td></tr>
<tr class="separator:af092a96167d9b06d812a17ee67db3780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d8a77081d966de8d6a662a3cefa605"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a76d8a77081d966de8d6a662a3cefa605">check_for_stale_threads</a> (const <a class="el" href="structst__plugin__int.html">st_plugin_int</a> *plugin)</td></tr>
<tr class="separator:a76d8a77081d966de8d6a662a3cefa605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4c0d99ea138cf218f142f322362157"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#aae4c0d99ea138cf218f142f322362157">is_valid</a> (const <a class="el" href="classSrv__session.html">Srv_session</a> *session)</td></tr>
<tr class="separator:aae4c0d99ea138cf218f142f322362157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3905ccf83195292e56b1ae1f4723f2"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#acb3905ccf83195292e56b1ae1f4723f2">session_count</a> ()</td></tr>
<tr class="separator:acb3905ccf83195292e56b1ae1f4723f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2ece559dacfdff32131e36e45eecd1"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSrv__session.html#a7a2ece559dacfdff32131e36e45eecd1">thread_count</a> (const void *plugin_name)</td></tr>
<tr class="separator:a7a2ece559dacfdff32131e36e45eecd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a18b6e470e6fec5df767041054775e0e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b6e470e6fec5df767041054775e0e8">&#9670;&nbsp;</a></span>srv_session_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classSrv__session.html#a18b6e470e6fec5df767041054775e0e8">Srv_session::srv_session_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Enum for the state of the session </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3f79b456c9e365806f12ee5aa67bfbcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f79b456c9e365806f12ee5aa67bfbcb">&#9670;&nbsp;</a></span>Srv_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Srv_session::Srv_session </td>
          <td>(</td>
          <td class="paramtype">srv_session_error_cb&#160;</td>
          <td class="paramname"><em>err_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>err_cb_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Constructs a server session</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_cb</td><td>Default completion callback </td></tr>
    <tr><td class="paramname">err_cb_ctx</td><td>Plugin's context, opaque pointer that would be provided to callbacks. Might be NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a73df8d1a4af78c58ffaacb6097ccf74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73df8d1a4af78c58ffaacb6097ccf74d">&#9670;&nbsp;</a></span>attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::attach </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Attaches the session to the current physical thread</p>
<dl class="section return"><dt>Returns</dt><dd>false success true failure</dd></dl>
<p>Attaches the session to the current physical thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Session handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false success true failure </dd></dl>

</div>
</div>
<a id="a76d8a77081d966de8d6a662a3cefa605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d8a77081d966de8d6a662a3cefa605">&#9670;&nbsp;</a></span>check_for_stale_threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Srv_session::check_for_stale_threads </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structst__plugin__int.html">st_plugin_int</a> *&#160;</td>
          <td class="paramname"><em>plugin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Checks if a plugin has left threads and sessions</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin</td><td>The plugin to be checked </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4254885df510bcca1d1cdc88c9366028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4254885df510bcca1d1cdc88c9366028">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Closes the session</p>
<dl class="section return"><dt>Returns</dt><dd>false Session successfully closed true Session wasn't found or key doesn't match</dd></dl>
<p>Closes the session</p>
<dl class="section return"><dt>Returns</dt><dd>false Session successfully closed true No such session exists / Session is attached to a different thread </dd></dl>

</div>
</div>
<a id="af092a96167d9b06d812a17ee67db3780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af092a96167d9b06d812a17ee67db3780">&#9670;&nbsp;</a></span>deinit_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Srv_session::deinit_thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Deinitializes the current physical thread for use with session service</p>
<p class="">Deinitializes physical thread to use with session service </p>

</div>
</div>
<a id="a3ab2665c1d523681147c5f502847a126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab2665c1d523681147c5f502847a126">&#9670;&nbsp;</a></span>detach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::detach </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Detaches the session from current physical thread.</p>
<dl class="section return"><dt>Returns</dt><dd>false success true failure</dd></dl>
<p>Detaches the session from the current physical thread.</p>
<dl class="section return"><dt>Returns</dt><dd>false success true failure </dd></dl>

</div>
</div>
<a id="a30f0a176fbc3ce50c5f596ab394ab42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30f0a176fbc3ce50c5f596ab394ab42f">&#9670;&nbsp;</a></span>execute_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Srv_session::execute_command </td>
          <td>(</td>
          <td class="paramtype">enum enum_server_command&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union COM_DATA *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CHARSET_INFO *&#160;</td>
          <td class="paramname"><em>client_cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct st_command_service_cbs *&#160;</td>
          <td class="paramname"><em>command_callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum cs_text_or_binary&#160;</td>
          <td class="paramname"><em>text_or_binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callbacks_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Executes a server command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>Command to be executed </td></tr>
    <tr><td class="paramname">data</td><td>Command's arguments </td></tr>
    <tr><td class="paramname">client_cs</td><td>The charset for the string data input (COM_QUERY for example) </td></tr>
    <tr><td class="paramname">command_callbacks</td><td>Callbacks to be used by the server to encode data and to communicate with the client (plugin) side. </td></tr>
    <tr><td class="paramname">text_or_binary</td><td>See enum cs_text_or_binary </td></tr>
    <tr><td class="paramname">callbacks_context</td><td>Context passed to the callbacks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 error 0 success </dd></dl>

</div>
</div>
<a id="a878dc80c2ab07372ba9ae8cbafb0caa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878dc80c2ab07372ba9ae8cbafb0caa1">&#9670;&nbsp;</a></span>get_client_port()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t Srv_session::get_client_port </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Returns the client port.</p>
<dl class="section note"><dt>Note</dt><dd>The client port in SHOW PROCESSLIST, INFORMATION_SCHEMA.PROCESSLIST. This port is NOT shown in PERFORMANCE_SCHEMA.THREADS. </dd></dl>

</div>
</div>
<a id="a7da787fab7bb8d045441efa8e2c2aa3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da787fab7bb8d045441efa8e2c2aa3c">&#9670;&nbsp;</a></span>get_current_database()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LEX_CSTRING Srv_session::get_current_database </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Returns the current database of a session.</p>
<dl class="section note"><dt>Note</dt><dd>This call is not thread-safe. Don't invoke the method from a thread different than the one in which the invocation happens. This means that the call should NOT happen during run_command(). The value returned is valid until the next run_command() call, which may change it. </dd></dl>

</div>
</div>
<a id="a9acafc348256db7c721c5a6f9d41dee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9acafc348256db7c721c5a6f9d41dee2">&#9670;&nbsp;</a></span>get_session_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">my_thread_id Srv_session::get_session_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Returns the ID of a session.</p>
<p class="">The value returned from THD::thread_id() </p>

</div>
</div>
<a id="afeee05328ba7f7be16a12c5cb853945c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeee05328ba7f7be16a12c5cb853945c">&#9670;&nbsp;</a></span>get_thd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">THD* Srv_session::get_thd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Returns the internal THD object </p>

</div>
</div>
<a id="a94790b19dd27e8bd99c58ac74ff33280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94790b19dd27e8bd99c58ac74ff33280">&#9670;&nbsp;</a></span>init_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::init_thread </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>plugin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Initializes the current physical thread for use with this class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin</td><td>Pointer to the plugin structure, passed to the plugin over the plugin init function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false success true failure</dd></dl>
<p>Initializes physical thread to use with session service.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin</td><td>Pointer to the plugin structure, passed to the plugin over the plugin init function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false success true failure </dd></dl>

</div>
</div>
<a id="a53e0d134096447b8f368499bb840201c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e0d134096447b8f368499bb840201c">&#9670;&nbsp;</a></span>is_attached()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::is_attached </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Returns if the session is in attached state</p>
<dl class="section return"><dt>Returns</dt><dd>false Not attached true Attached </dd></dl>

</div>
</div>
<a id="aae4c0d99ea138cf218f142f322362157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4c0d99ea138cf218f142f322362157">&#9670;&nbsp;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSrv__session.html">Srv_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Checks if the session is valid.</p>
<p class="">Checked is if session is NULL, or in the list of opened sessions. If the session is not in this list it was either closed or the address is invalid.</p>
<dl class="section return"><dt>Returns</dt><dd>true valid false not valid </dd></dl>

</div>
</div>
<a id="a1c54d3bf9fc6ae6236b8b18b5354b714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c54d3bf9fc6ae6236b8b18b5354b714">&#9670;&nbsp;</a></span>module_deinit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::module_deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Deinitializes the module</p>
<p class="">This method has to be called at server shutdown.</p>
<dl class="section return"><dt>Returns</dt><dd>false success true failure</dd></dl>
<p>Deinits the module.</p>
<p class="">Never fails</p>
<dl class="section return"><dt>Returns</dt><dd>false success </dd></dl>

</div>
</div>
<a id="aa0dbb3e216c720bb38d81b172d6118de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0dbb3e216c720bb38d81b172d6118de">&#9670;&nbsp;</a></span>module_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::module_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Initializes the module.</p>
<p class="">This method has to be called at server startup.</p>
<dl class="section return"><dt>Returns</dt><dd>false success true failure</dd></dl>
<p>Inits the module</p>
<dl class="section return"><dt>Returns</dt><dd>false success true failure </dd></dl>

</div>
</div>
<a id="a99347e58c5498ce76891ace87456562f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99347e58c5498ce76891ace87456562f">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Opens a server session</p>
<dl class="section return"><dt>Returns</dt><dd>session on success NULL on failure</dd></dl>
<p>Opens a server session</p>
<dl class="section return"><dt>Returns</dt><dd>false on success true on failure </dd></dl>

</div>
</div>
<a id="acb3905ccf83195292e56b1ae1f4723f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb3905ccf83195292e56b1ae1f4723f2">&#9670;&nbsp;</a></span>session_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Srv_session::session_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Returns the number opened sessions in thread initialized by this class. </p>

</div>
</div>
<a id="a3d4af0d7cf8b34661a3ec6f839f39f7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d4af0d7cf8b34661a3ec6f839f39f7f">&#9670;&nbsp;</a></span>set_client_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Srv_session::set_client_port </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Sets the client port.</p>
<dl class="section note"><dt>Note</dt><dd>The client port in SHOW PROCESSLIST, INFORMATION_SCHEMA.PROCESSLIST. This port is NOT shown in PERFORMANCE_SCHEMA.THREADS.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Port number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a93957a74e9e34a490425cd03de471650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93957a74e9e34a490425cd03de471650">&#9670;&nbsp;</a></span>set_connection_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Srv_session::set_connection_type </td>
          <td>(</td>
          <td class="paramtype">enum_vio_type&#160;</td>
          <td class="paramname"><em>v_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Sets the connection type.</p>
<dl class="section see"><dt>See also</dt><dd>enum_vio_type</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If NO_VIO_TYPE passed as type the call will fail.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>false success true failure</dd></dl>
<p>Sets the connection type.</p>
<dl class="section see"><dt>See also</dt><dd>enum_vio_type</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>false success true failure </dd></dl>

</div>
</div>
<a id="a7a2ece559dacfdff32131e36e45eecd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a2ece559dacfdff32131e36e45eecd1">&#9670;&nbsp;</a></span>thread_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Srv_session::thread_count </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>plugin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Returns the number currently running threads initialized by this class. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="srv__session_8h_source.html">srv_session.h</a></li>
<li><a class="el" href="srv__session_8cc.html">srv_session.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
