<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Key_use Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classKey__use-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Key_use Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sql__select_8h_source.html">sql_select.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa32d5d1bc045beb21ae82475e60ed399"><td class="memItemLeft" align="right" valign="top"><a id="aa32d5d1bc045beb21ae82475e60ed399"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Key_use</b> (<a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *table_ref_arg, <a class="el" href="classItem.html">Item</a> *val_arg, table_map used_tables_arg, uint key_arg, uint keypart_arg, uint optimize_arg, key_part_map keypart_map_arg, ha_rows ref_table_rows_arg, bool null_rejecting_arg, bool *cond_guard_arg, uint sj_pred_no_arg)</td></tr>
<tr class="separator:aa32d5d1bc045beb21ae82475e60ed399"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acaebf1c7b3d1089a65bf1b9ee9d08e70"><td class="memItemLeft" align="right" valign="top"><a id="acaebf1c7b3d1089a65bf1b9ee9d08e70"></a>
<a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#acaebf1c7b3d1089a65bf1b9ee9d08e70">table_ref</a></td></tr>
<tr class="memdesc:acaebf1c7b3d1089a65bf1b9ee9d08e70"><td class="mdescLeft">&#160;</td><td class="mdescRight">table owning the index <br /></td></tr>
<tr class="separator:acaebf1c7b3d1089a65bf1b9ee9d08e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152efa6d57e497193957663000d47f59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classItem.html">Item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a152efa6d57e497193957663000d47f59">val</a></td></tr>
<tr class="separator:a152efa6d57e497193957663000d47f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae721ddf71a4c36bc05cc9110b4bb8165"><td class="memItemLeft" align="right" valign="top">table_map&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#ae721ddf71a4c36bc05cc9110b4bb8165">used_tables</a></td></tr>
<tr class="separator:ae721ddf71a4c36bc05cc9110b4bb8165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b903e9507fad9ab652e0cf937c97a5"><td class="memItemLeft" align="right" valign="top"><a id="ac1b903e9507fad9ab652e0cf937c97a5"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#ac1b903e9507fad9ab652e0cf937c97a5">key</a></td></tr>
<tr class="memdesc:ac1b903e9507fad9ab652e0cf937c97a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of index <br /></td></tr>
<tr class="separator:ac1b903e9507fad9ab652e0cf937c97a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92191e9f0c7cb3c408377e07b929b53f"><td class="memItemLeft" align="right" valign="top"><a id="a92191e9f0c7cb3c408377e07b929b53f"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a92191e9f0c7cb3c408377e07b929b53f">keypart</a></td></tr>
<tr class="memdesc:a92191e9f0c7cb3c408377e07b929b53f"><td class="mdescLeft">&#160;</td><td class="mdescRight">used part of the index <br /></td></tr>
<tr class="separator:a92191e9f0c7cb3c408377e07b929b53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c236d532e162f606545342df717e7df"><td class="memItemLeft" align="right" valign="top"><a id="a4c236d532e162f606545342df717e7df"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a4c236d532e162f606545342df717e7df">optimize</a></td></tr>
<tr class="memdesc:a4c236d532e162f606545342df717e7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">0, or KEY_OPTIMIZE_* <br /></td></tr>
<tr class="separator:a4c236d532e162f606545342df717e7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519f9f72bfdf036c9476ed0d3f624c4a"><td class="memItemLeft" align="right" valign="top"><a id="a519f9f72bfdf036c9476ed0d3f624c4a"></a>
key_part_map&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a519f9f72bfdf036c9476ed0d3f624c4a">keypart_map</a></td></tr>
<tr class="memdesc:a519f9f72bfdf036c9476ed0d3f624c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">like keypart, but as a bitmap <br /></td></tr>
<tr class="separator:a519f9f72bfdf036c9476ed0d3f624c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aab1a96e0a25cd25ab6c482efd6de9a"><td class="memItemLeft" align="right" valign="top"><a id="a6aab1a96e0a25cd25ab6c482efd6de9a"></a>
ha_rows&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a6aab1a96e0a25cd25ab6c482efd6de9a">ref_table_rows</a></td></tr>
<tr class="memdesc:a6aab1a96e0a25cd25ab6c482efd6de9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate of how many rows for a key value. <br /></td></tr>
<tr class="separator:a6aab1a96e0a25cd25ab6c482efd6de9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba461fa75819da0303af030700a8d5b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#acba461fa75819da0303af030700a8d5b">null_rejecting</a></td></tr>
<tr class="separator:acba461fa75819da0303af030700a8d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae462d9f6aefe49c1907600a9921b02a6"><td class="memItemLeft" align="right" valign="top">bool *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#ae462d9f6aefe49c1907600a9921b02a6">cond_guard</a></td></tr>
<tr class="separator:ae462d9f6aefe49c1907600a9921b02a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72971098712c22d6ab436e02a66837d4"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a72971098712c22d6ab436e02a66837d4">sj_pred_no</a></td></tr>
<tr class="separator:a72971098712c22d6ab436e02a66837d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0559be6fdc6c44e75d911049c2d61d0d"><td class="memItemLeft" align="right" valign="top">key_part_map&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a0559be6fdc6c44e75d911049c2d61d0d">bound_keyparts</a></td></tr>
<tr class="separator:a0559be6fdc6c44e75d911049c2d61d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1bd83706433a6e2ea488815989a951"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#aff1bd83706433a6e2ea488815989a951">fanout</a></td></tr>
<tr class="separator:aff1bd83706433a6e2ea488815989a951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b5e41c710a57dd77c0da56d1666e8c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKey__use.html#a48b5e41c710a57dd77c0da56d1666e8c">read_cost</a></td></tr>
<tr class="separator:a48b5e41c710a57dd77c0da56d1666e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">A <a class="el" href="classKey__use.html">Key_use</a> represents an equality predicate of the form (table.column = val), where the column is indexed by <code>keypart</code> in <code>key</code> and <code>val</code> is either a constant, a column from other table, or an expression over column(s) from other table(s). If <code>val</code> is not a constant, then the <a class="el" href="classKey__use.html">Key_use</a> specifies an equi-join predicate, and <code>table</code> must be put in the join plan after all tables in <code>used_tables</code>.</p>
<p class="">At an abstract level a <a class="el" href="classKey__use.html">Key_use</a> instance can be viewed as a directed arc of an equi-join graph, where the arc originates from the table(s) containing the column(s) that produce the values used for index lookup into <code>table</code>, and the arc points into <code>table</code>.</p>
<p class="">For instance, assuming there is only an index t3(c), the query</p>
<div class="fragment"><div class="line">SELECT * FROM t1, t2, t3</div><div class="line">WHERE t1.a = t3.c AND</div><div class="line">      t2.b = t3.c;</div></div><!-- fragment --><p class="">would generate two arcs (instances of <a class="el" href="classKey__use.html">Key_use</a>)</p>
<div class="fragment"><div class="line">t1-- a -&gt;- c --.</div><div class="line">               |</div><div class="line">               V</div><div class="line">               t3</div><div class="line">               ^</div><div class="line">               |</div><div class="line">t2-- b -&gt;- c --<span class="stringliteral">&#39;</span></div></div><!-- fragment --><p class="">If there were indexes t1(a), and t2(b), then the equi-join graph would have two additional arcs "c-&gt;a" and "c-&gt;b" recording the fact that it is possible to perform lookup in either direction.</p>
<div class="fragment"><div class="line">t1-- a -&gt;- c --.    ,-- c -&lt;- b --- t2</div><div class="line"> ^             |    |               ^</div><div class="line"> |             |    |               |</div><div class="line"> `-- a -&lt;- c - v    v-- c -&gt;- b ----<span class="stringliteral">&#39;</span></div><div class="line"><span class="stringliteral">                 t3</span></div></div><!-- fragment --><p class="">The query</p>
<div class="fragment"><div class="line">SELECT * FROM t1, t2, t3 WHERE t1.a + t2.b = t3.c;</div></div><!-- fragment --><p class="">can be viewed as a graph with one "multi-source" arc:</p>
<div class="fragment"><div class="line">t1-- a ---</div><div class="line">          |</div><div class="line">           &gt;-- c --&gt; t3</div><div class="line">          |</div><div class="line">t2-- b ---</div></div><!-- fragment --><p class="">The graph of all equi-join conditions usable for index lookup is stored as an ordered sequence of <a class="el" href="classKey__use.html">Key_use</a> elements in JOIN::keyuse_array. See sort_keyuse() for details on the ordering. Each JOIN_TAB::keyuse points to the first array element with the same table. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a0559be6fdc6c44e75d911049c2d61d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0559be6fdc6c44e75d911049c2d61d0d">&#9670;&nbsp;</a></span>bound_keyparts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">key_part_map Key_use::bound_keyparts</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">The key columns which are equal to expressions depending only of earlier tables of the current join prefix. This information is stored only in the first <a class="el" href="classKey__use.html">Key_use</a> of the index. </p>

</div>
</div>
<a id="ae462d9f6aefe49c1907600a9921b02a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae462d9f6aefe49c1907600a9921b02a6">&#9670;&nbsp;</a></span>cond_guard</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool* Key_use::cond_guard</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">!NULL - This <a class="el" href="classKey__use.html">Key_use</a> was created from an equality that was wrapped into an <a class="el" href="classItem__func__trig__cond.html">Item_func_trig_cond</a>. This means the equality (and validity of this <a class="el" href="classKey__use.html">Key_use</a> element) can be turned on and off. The on/off state is indicted by the pointed value: cond_guard == TRUE &lt;=&gt; equality condition is on cond_guard == FALSE &lt;=&gt; equality condition is off</p>
<p class="">NULL - Otherwise (the source equality can't be turned off)</p>
<p class="">Not used if the index is fulltext (such index cannot be used for equalities). </p>

</div>
</div>
<a id="aff1bd83706433a6e2ea488815989a951"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1bd83706433a6e2ea488815989a951">&#9670;&nbsp;</a></span>fanout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Key_use::fanout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Fanout of the ref access path for this index, in the current join prefix. This information is stored only in the first <a class="el" href="classKey__use.html">Key_use</a> of the index. </p>

</div>
</div>
<a id="acba461fa75819da0303af030700a8d5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba461fa75819da0303af030700a8d5b">&#9670;&nbsp;</a></span>null_rejecting</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Key_use::null_rejecting</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">If true, the comparison this value was created from will not be satisfied if val has NULL 'value'. Not used if the index is fulltext (such index cannot be used for equalities). </p>

</div>
</div>
<a id="a48b5e41c710a57dd77c0da56d1666e8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b5e41c710a57dd77c0da56d1666e8c">&#9670;&nbsp;</a></span>read_cost</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Key_use::read_cost</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Cost of the ref access path for the current join prefix, i.e. the cost of using ref access once multiplied by estimated number of partial rows from tables earlier in the join sequence. read_cost does NOT include cost of processing rows on the server side (row_evaluate_cost).</p>
<p class="">Example: If the cost of ref access on this index is 5, and the estimated number of partial rows from earlier tables is 10, read_cost=50.</p>
<p class="">This information is stored only in the first <a class="el" href="classKey__use.html">Key_use</a> of the index. </p>

</div>
</div>
<a id="a72971098712c22d6ab436e02a66837d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72971098712c22d6ab436e02a66837d4">&#9670;&nbsp;</a></span>sj_pred_no</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint Key_use::sj_pred_no</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">0..63 &lt;=&gt; This was created from semi-join IN-equality # sj_pred_no. UINT_MAX Otherwise</p>
<p class="">Not used if the index is fulltext (such index cannot be used for semijoin).</p>
<dl class="section see"><dt>See also</dt><dd>get_semi_join_select_list_index() </dd></dl>

</div>
</div>
<a id="ae721ddf71a4c36bc05cc9110b4bb8165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae721ddf71a4c36bc05cc9110b4bb8165">&#9670;&nbsp;</a></span>used_tables</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">table_map Key_use::used_tables</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">All tables used in <code>val</code>, that is all tables that provide bindings for the expression <code>val</code>. These tables must be in the plan before executing the equi-join described by a <a class="el" href="classKey__use.html">Key_use</a>. </p>

</div>
</div>
<a id="a152efa6d57e497193957663000d47f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152efa6d57e497193957663000d47f59">&#9670;&nbsp;</a></span>val</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classItem.html">Item</a>* Key_use::val</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Value used for lookup into <code>key</code>. It may be an <a class="el" href="classItem__field.html">Item_field</a>, a constant or any other expression. If <code>val</code> contains a field from another table, then we have a join condition, and the table(s) of the field(s) in <code>val</code> should be before <code>table</code> in the join plan. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="sql__select_8h_source.html">sql_select.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
