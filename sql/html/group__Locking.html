<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Locking</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Locking</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga65cffe586bef8fdfb5334d343c069df6"><td class="memItemLeft" align="right" valign="top"><a id="ga65cffe586bef8fdfb5334d343c069df6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GET_LOCK_UNLOCK</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga65cffe586bef8fdfb5334d343c069df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bef164e121fc9d85a6e19eae9625365"><td class="memItemLeft" align="right" valign="top"><a id="ga1bef164e121fc9d85a6e19eae9625365"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GET_LOCK_STORE_LOCKS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ga1bef164e121fc9d85a6e19eae9625365"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga40d9de997ac2ee4f94f358ce1ac2d76a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#ga40d9de997ac2ee4f94f358ce1ac2d76a">mysql_lock_tables</a> (THD *thd, <a class="el" href="structTABLE.html">TABLE</a> **tables, size_t count, uint flags)</td></tr>
<tr class="separator:ga40d9de997ac2ee4f94f358ce1ac2d76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bff80304c9d27f634976ac8fe60cd38"><td class="memItemLeft" align="right" valign="top"><a id="ga2bff80304c9d27f634976ac8fe60cd38"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>mysql_unlock_tables</b> (THD *thd, <a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *sql_lock)</td></tr>
<tr class="separator:ga2bff80304c9d27f634976ac8fe60cd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafad092ec9a399db99abd75b57a9ee679"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#gafad092ec9a399db99abd75b57a9ee679">mysql_unlock_some_tables</a> (THD *thd, <a class="el" href="structTABLE.html">TABLE</a> **table, uint count)</td></tr>
<tr class="separator:gafad092ec9a399db99abd75b57a9ee679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e24a131cbe030c49d953669f804877d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#ga1e24a131cbe030c49d953669f804877d">mysql_unlock_read_tables</a> (THD *thd, <a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *sql_lock)</td></tr>
<tr class="separator:ga1e24a131cbe030c49d953669f804877d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad40fe56766e1b54e2fed60814aec1e58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#gad40fe56766e1b54e2fed60814aec1e58">mysql_lock_remove</a> (THD *thd, <a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *locked, <a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr class="separator:gad40fe56766e1b54e2fed60814aec1e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07896e99c9c248c6441be5c13c484303"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#ga07896e99c9c248c6441be5c13c484303">mysql_lock_abort</a> (THD *thd, <a class="el" href="structTABLE.html">TABLE</a> *table, bool upgrade_lock)</td></tr>
<tr class="separator:ga07896e99c9c248c6441be5c13c484303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2320fa808c9d6523790e796d57e2331"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#gad2320fa808c9d6523790e796d57e2331">mysql_lock_abort_for_thread</a> (THD *thd, <a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr class="separator:gad2320fa808c9d6523790e796d57e2331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8e0ecd1f7872040079f5319aacd93a2"><td class="memItemLeft" align="right" valign="top"><a id="gae8e0ecd1f7872040079f5319aacd93a2"></a>
<a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>mysql_lock_merge</b> (<a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *a, <a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *b)</td></tr>
<tr class="separator:gae8e0ecd1f7872040079f5319aacd93a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac67865dd0ef1b003fdee2182aba9a049"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#gac67865dd0ef1b003fdee2182aba9a049">lock_schema_name</a> (THD *thd, const char *db)</td></tr>
<tr class="separator:gac67865dd0ef1b003fdee2182aba9a049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1923c93a226a0a762e9a7675135f770e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#ga1923c93a226a0a762e9a7675135f770e">lock_tablespace_name</a> (THD *thd, const char *tablespace)</td></tr>
<tr class="separator:ga1923c93a226a0a762e9a7675135f770e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53e5914955b0e1ad76551983a22ecf60"><td class="memItemLeft" align="right" valign="top"><a id="ga53e5914955b0e1ad76551983a22ecf60"></a>
uchar *&#160;</td><td class="memItemRight" valign="bottom"><b>tablespace_set_get_key</b> (const uchar *record, size_t *length, my_bool not_used MY_ATTRIBUTE((unused)))</td></tr>
<tr class="separator:ga53e5914955b0e1ad76551983a22ecf60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga377fe3850ef2fce0988a3cffb9128159"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#ga377fe3850ef2fce0988a3cffb9128159">lock_tablespace_names</a> (THD *thd, <a class="el" href="classHash__set.html">Tablespace_hash_set</a> *tablespace_set, ulong lock_wait_timeout)</td></tr>
<tr class="separator:ga377fe3850ef2fce0988a3cffb9128159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab03d9cc9ff9682e9f2a961685fd90cb3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Locking.html#gab03d9cc9ff9682e9f2a961685fd90cb3">lock_object_name</a> (THD *thd, <a class="el" href="structMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a> mdl_type, const char *db, const char *name)</td></tr>
<tr class="separator:gab03d9cc9ff9682e9f2a961685fd90cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gadb186a1125c10d63d0217bc321a4c95a"><td class="memItemLeft" align="right" valign="top"><a id="gadb186a1125c10d63d0217bc321a4c95a"></a>
HASH&#160;</td><td class="memItemRight" valign="bottom"><b>open_cache</b></td></tr>
<tr class="separator:gadb186a1125c10d63d0217bc321a4c95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab03d9cc9ff9682e9f2a961685fd90cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab03d9cc9ff9682e9f2a961685fd90cb3">&#9670;&nbsp;</a></span>lock_object_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lock_object_name </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a>&#160;</td>
          <td class="paramname"><em>mdl_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Obtain an exclusive metadata lock on an object name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handle. </td></tr>
    <tr><td class="paramname">mdl_type</td><td>Object type (currently functions, procedures and events can be name-locked). </td></tr>
    <tr><td class="paramname">db</td><td>The schema the object belongs to. </td></tr>
    <tr><td class="paramname">name</td><td>Object name in the schema.</td></tr>
  </table>
  </dd>
</dl>
<p>This function cannot be called while holding LOCK_open_mutex. This invariant is enforced by asserts in <a class="el" href="classMDL__context.html#a4583e611d097158c5f08b8d1133fbd7e">MDL_context::acquire_locks</a>. To avoid deadlocks, we do not try to obtain exclusive metadata locks in LOCK TABLES mode, since in this mode there may be other metadata locks already taken by the current connection, and we must not wait for MDL locks while holding locks.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>Success. </td></tr>
    <tr><td class="paramname">TRUE</td><td>Failure: we're in LOCK TABLES mode, or out of memory, or this connection was killed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac67865dd0ef1b003fdee2182aba9a049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac67865dd0ef1b003fdee2182aba9a049">&#9670;&nbsp;</a></span>lock_schema_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lock_schema_name </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Obtain an exclusive metadata lock on a schema name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handle. </td></tr>
    <tr><td class="paramname">db</td><td>The database name.</td></tr>
  </table>
  </dd>
</dl>
<p>This function cannot be called while holding LOCK_open mutex. To avoid deadlocks, we do not try to obtain exclusive metadata locks in LOCK TABLES mode, since in this mode there may be other metadata locks already taken by the current connection, and we must not wait for MDL locks while holding locks.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>Success. </td></tr>
    <tr><td class="paramname">TRUE</td><td>Failure: we're in LOCK TABLES mode, or out of memory, or this connection was killed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1923c93a226a0a762e9a7675135f770e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1923c93a226a0a762e9a7675135f770e">&#9670;&nbsp;</a></span>lock_tablespace_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lock_tablespace_name </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tablespace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Obtain an exclusive metadata lock on a tablespace name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handle. </td></tr>
    <tr><td class="paramname">tablespace</td><td>The tablespace name.</td></tr>
  </table>
  </dd>
</dl>
<p>This function cannot be called while holding the LOCK_open mutex. To avoid deadlocks, we do not try to obtain exclusive metadata locks in LOCK TABLES mode, since in this mode there may be other metadata locks already taken by the current connection, and we must not wait for MDL locks while holding locks.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success. </td></tr>
    <tr><td class="paramname">true</td><td>Failure: we're in LOCK TABLES mode, out of memory, connection was killed, or numerous other reasons. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga377fe3850ef2fce0988a3cffb9128159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga377fe3850ef2fce0988a3cffb9128159">&#9670;&nbsp;</a></span>lock_tablespace_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lock_tablespace_names </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classHash__set.html">Tablespace_hash_set</a> *&#160;</td>
          <td class="paramname"><em>tablespace_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulong&#160;</td>
          <td class="paramname"><em>lock_wait_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Acquire IX MDL lock each tablespace name from the given set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>- Thread invoking this function. </td></tr>
    <tr><td class="paramname">tablespace_set</td><td>- Set of tablespace names to be lock. </td></tr>
    <tr><td class="paramname">lock_wait_timeout</td><td>- Lock timeout.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true - On failure </dd>
<dd>
false - On Success. </dd></dl>

</div>
</div>
<a id="ga07896e99c9c248c6441be5c13c484303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07896e99c9c248c6441be5c13c484303">&#9670;&nbsp;</a></span>mysql_lock_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_lock_abort </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>upgrade_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Abort all other threads waiting to get lock in table. </p>

</div>
</div>
<a id="gad2320fa808c9d6523790e796d57e2331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2320fa808c9d6523790e796d57e2331">&#9670;&nbsp;</a></span>mysql_lock_abort_for_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_lock_abort_for_thread </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Abort one thread / table combination.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramname">table</td><td>Table that should be removed from lock queue </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad40fe56766e1b54e2fed60814aec1e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad40fe56766e1b54e2fed60814aec1e58">&#9670;&nbsp;</a></span>mysql_lock_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_lock_remove </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *&#160;</td>
          <td class="paramname"><em>locked</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Try to find the table in the list of locked tables. In case of success, unlock the table and remove it from this list. If a table has more than one lock instance, removes them all.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread context </td></tr>
    <tr><td class="paramname">locked</td><td>list of locked tables </td></tr>
    <tr><td class="paramname">table</td><td>the table to unlock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga40d9de997ac2ee4f94f358ce1ac2d76a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40d9de997ac2ee4f94f358ce1ac2d76a">&#9670;&nbsp;</a></span>mysql_lock_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a>* mysql_lock_tables </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> **&#160;</td>
          <td class="paramname"><em>tables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Lock tables.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>The current thread. </td></tr>
    <tr><td class="paramname">tables</td><td>An array of pointers to the tables to lock. </td></tr>
    <tr><td class="paramname">count</td><td>The number of tables to lock. </td></tr>
    <tr><td class="paramname">flags</td><td>Options: MYSQL_LOCK_IGNORE_GLOBAL_READ_ONLY Ignore SET GLOBAL READ_ONLY MYSQL_LOCK_IGNORE_TIMEOUT Use maximum timeout value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>lock structure pointer on success. </td></tr>
    <tr><td class="paramname">NULL</td><td>if an error or if wait on a lock was killed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1e24a131cbe030c49d953669f804877d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e24a131cbe030c49d953669f804877d">&#9670;&nbsp;</a></span>mysql_unlock_read_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_unlock_read_tables </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structst__mysql__lock.html">MYSQL_LOCK</a> *&#160;</td>
          <td class="paramname"><em>sql_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">unlock all tables locked for read. </p>

</div>
</div>
<a id="gafad092ec9a399db99abd75b57a9ee679"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafad092ec9a399db99abd75b57a9ee679">&#9670;&nbsp;</a></span>mysql_unlock_some_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_unlock_some_tables </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> **&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Unlock some of the tables locked by mysql_lock_tables.</p>
<p class="">This will work even if get_lock_data fails (next unlock will free all) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
