<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Json_path_cache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classJson__path__cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Json_path_cache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="item__json__func_8h_source.html">item_json_func.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a453c9eeaf5a571e0ff119cb1ec8654f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJson__path__cache.html#a453c9eeaf5a571e0ff119cb1ec8654f9">Json_path_cache</a> (THD *thd, uint size)</td></tr>
<tr class="separator:a453c9eeaf5a571e0ff119cb1ec8654f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd772d2719861bc690199d212a36d43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJson__path__cache.html#acbd772d2719861bc690199d212a36d43">parse_and_cache_path</a> (<a class="el" href="classItem.html">Item</a> **args, uint arg_idx, bool forbid_wildcards)</td></tr>
<tr class="separator:acbd772d2719861bc690199d212a36d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e16c6759d543643eee5fdb2abb8eef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classJson__path.html">Json_path</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJson__path__cache.html#ab4e16c6759d543643eee5fdb2abb8eef">get_path</a> (uint arg_idx)</td></tr>
<tr class="separator:ab4e16c6759d543643eee5fdb2abb8eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86df523345766a8dd4ee469253c35b60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJson__path__cache.html#a86df523345766a8dd4ee469253c35b60">reset_cache</a> ()</td></tr>
<tr class="separator:a86df523345766a8dd4ee469253c35b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">Path cache for JSON functions. Caches parsed path objects for arguments which are string literals. Maintains a vector of path objects and an array of ints which map path argument numbers to slots in the array. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a453c9eeaf5a571e0ff119cb1ec8654f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a453c9eeaf5a571e0ff119cb1ec8654f9">&#9670;&nbsp;</a></span>Json_path_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Json_path_cache::Json_path_cache </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class=""><a class="el" href="classJson__path__cache.html">Json_path_cache</a> </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab4e16c6759d543643eee5fdb2abb8eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e16c6759d543643eee5fdb2abb8eef">&#9670;&nbsp;</a></span>get_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classJson__path.html">Json_path</a> * Json_path_cache::get_path </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>arg_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Return an already parsed path expression.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg_idx</td><td>Index of the path_expression in the JSON function args</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the already parsed path </dd></dl>

</div>
</div>
<a id="acbd772d2719861bc690199d212a36d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbd772d2719861bc690199d212a36d43">&#9670;&nbsp;</a></span>parse_and_cache_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Json_path_cache::parse_and_cache_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>arg_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forbid_wildcards</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Parse a path expression if necessary. Does nothing if the path expression is constant and it has already been parsed. Assumes that we've already verified that the path expression is not null. Raises an error if the path expression is syntactically incorrect. Raises an error if the path expression contains wildcard tokens but is not supposed to. Otherwise puts the parsed path onto the path vector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">args</td><td>Array of args to a JSON function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg_idx</td><td>Index of the path_expression in args </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">forbid_wildcards</td><td>True if the path shouldn't contain * or **</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true on error or if the path is NULL </dd></dl>

</div>
</div>
<a id="a86df523345766a8dd4ee469253c35b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86df523345766a8dd4ee469253c35b60">&#9670;&nbsp;</a></span>reset_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Json_path_cache::reset_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Reset the cache for re-use when a statement is re-executed. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="item__json__func_8h_source.html">item_json_func.h</a></li>
<li>item_json_func.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
