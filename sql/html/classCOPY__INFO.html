<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: COPY_INFO Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classCOPY__INFO-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">COPY_INFO Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sql__data__change_8h_source.html">sql_data_change.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for COPY_INFO:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCOPY__INFO.png" usemap="#COPY_5FINFO_map" alt=""/>
  <map id="COPY_5FINFO_map" name="COPY_5FINFO_map">
<area href="classSql__alloc.html" alt="Sql_alloc" shape="rect" coords="0,0,85,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO_1_1Statistics.html">Statistics</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2c75f8423ff1891b6cdb99ea6cd6d316"><td class="memItemLeft" align="right" valign="top"><a id="a2c75f8423ff1891b6cdb99ea6cd6d316"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>operation_type</b> { <b>INSERT_OPERATION</b>, 
<b>UPDATE_OPERATION</b>
 }</td></tr>
<tr class="separator:a2c75f8423ff1891b6cdb99ea6cd6d316"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59ba05cd9704541946914de72db0c818"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a59ba05cd9704541946914de72db0c818">COPY_INFO</a> (operation_type optype, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *inserted_columns, bool manage_defaults, enum_duplicates duplicate_handling)</td></tr>
<tr class="separator:a59ba05cd9704541946914de72db0c818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b955bc13055dcedc347a75fbb4cbdee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a6b955bc13055dcedc347a75fbb4cbdee">COPY_INFO</a> (operation_type optype, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *inserted_columns, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *inserted_columns2, bool manage_defaults, enum_duplicates duplicates_handling, int escape_character)</td></tr>
<tr class="separator:a6b955bc13055dcedc347a75fbb4cbdee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f301b4e25739036b3acd99a24c54257"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a6f301b4e25739036b3acd99a24c54257">COPY_INFO</a> (operation_type optype, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *fields, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *values)</td></tr>
<tr class="separator:a6f301b4e25739036b3acd99a24c54257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63278b7b2d2cfb691c76659207eb0148"><td class="memItemLeft" align="right" valign="top"><a id="a63278b7b2d2cfb691c76659207eb0148"></a>
operation_type&#160;</td><td class="memItemRight" valign="bottom"><b>get_operation_type</b> () const</td></tr>
<tr class="separator:a63278b7b2d2cfb691c76659207eb0148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24704cdb5ed0c2271c1f83a3990be68"><td class="memItemLeft" align="right" valign="top"><a id="aa24704cdb5ed0c2271c1f83a3990be68"></a>
<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>get_changed_columns</b> () const</td></tr>
<tr class="separator:aa24704cdb5ed0c2271c1f83a3990be68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51d7c5440c5f1625dbc925e6ea865ec"><td class="memItemLeft" align="right" valign="top"><a id="ad51d7c5440c5f1625dbc925e6ea865ec"></a>
const <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>get_changed_columns2</b> () const</td></tr>
<tr class="separator:ad51d7c5440c5f1625dbc925e6ea865ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd74b742568d31e9d93b3d7812916294"><td class="memItemLeft" align="right" valign="top"><a id="afd74b742568d31e9d93b3d7812916294"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>get_manage_defaults</b> () const</td></tr>
<tr class="separator:afd74b742568d31e9d93b3d7812916294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c1de9324e8774de5dcbedace0ed357"><td class="memItemLeft" align="right" valign="top"><a id="a74c1de9324e8774de5dcbedace0ed357"></a>
enum_duplicates&#160;</td><td class="memItemRight" valign="bottom"><b>get_duplicate_handling</b> () const</td></tr>
<tr class="separator:a74c1de9324e8774de5dcbedace0ed357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce8622f7a089c3b7ad02858539899ba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a7ce8622f7a089c3b7ad02858539899ba">set_function_defaults</a> (<a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr class="separator:a7ce8622f7a089c3b7ad02858539899ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d8192214b05dc110801ec8dd999edc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#ae3d8192214b05dc110801ec8dd999edc">add_function_default_columns</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, MY_BITMAP *columns)</td></tr>
<tr class="separator:ae3d8192214b05dc110801ec8dd999edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e53a23c1bafc7c6e32d32091c957eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#ac7e53a23c1bafc7c6e32d32091c957eb">function_defaults_apply</a> (const <a class="el" href="structTABLE.html">TABLE</a> *table) const</td></tr>
<tr class="separator:ac7e53a23c1bafc7c6e32d32091c957eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9bd54cdb4f21814f6575129550313aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#af9bd54cdb4f21814f6575129550313aa">function_defaults_apply_on_columns</a> (MY_BITMAP *map)</td></tr>
<tr class="separator:af9bd54cdb4f21814f6575129550313aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b958b97160409b58f5ca669014e732"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a76b958b97160409b58f5ca669014e732">ignore_last_columns</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, uint count)</td></tr>
<tr class="separator:a76b958b97160409b58f5ca669014e732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0489e263f2e297822a61946ea98a9dc4"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a0489e263f2e297822a61946ea98a9dc4">~COPY_INFO</a> ()</td></tr>
<tr class="separator:a0489e263f2e297822a61946ea98a9dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2a8ecb111b8337d5fa22c18767568fc1"><td class="memItemLeft" align="right" valign="top"><a id="a2a8ecb111b8337d5fa22c18767568fc1"></a>
<a class="el" href="classCOPY__INFO_1_1Statistics.html">Statistics</a>&#160;</td><td class="memItemRight" valign="bottom"><b>stats</b></td></tr>
<tr class="separator:a2a8ecb111b8337d5fa22c18767568fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75823e55a0adcff9b6ea4b1e25f14ec9"><td class="memItemLeft" align="right" valign="top"><a id="a75823e55a0adcff9b6ea4b1e25f14ec9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>escape_char</b></td></tr>
<tr class="separator:a75823e55a0adcff9b6ea4b1e25f14ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ef0c76f46e39ab43aecc6d3898ea44"><td class="memItemLeft" align="right" valign="top"><a id="ad7ef0c76f46e39ab43aecc6d3898ea44"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>last_errno</b></td></tr>
<tr class="separator:ad7ef0c76f46e39ab43aecc6d3898ea44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451057d07720b1c973ac2881c8939406"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a451057d07720b1c973ac2881c8939406">update_values</a></td></tr>
<tr class="separator:a451057d07720b1c973ac2881c8939406"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4b096071d98443d6f9a59aafc6da78a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a4b096071d98443d6f9a59aafc6da78a0">get_function_default_columns</a> (<a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr class="separator:a4b096071d98443d6f9a59aafc6da78a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a514b233a8aca96ba77cb73459a112b77"><td class="memItemLeft" align="right" valign="top">MY_BITMAP *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCOPY__INFO.html#a514b233a8aca96ba77cb73459a112b77">get_cached_bitmap</a> () const</td></tr>
<tr class="separator:a514b233a8aca96ba77cb73459a112b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classSql__alloc"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classSql__alloc')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classSql__alloc.html">Sql_alloc</a></td></tr>
<tr class="memitem:a193100cab44074df6f4f1507b333dcda inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a193100cab44074df6f4f1507b333dcda"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new</b> (size_t size)  throw ()</td></tr>
<tr class="separator:a193100cab44074df6f4f1507b333dcda inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b17bd7ec22fc7a7e5b56702e5630a6 inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a14b17bd7ec22fc7a7e5b56702e5630a6"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new[]</b> (size_t size)  throw ()</td></tr>
<tr class="separator:a14b17bd7ec22fc7a7e5b56702e5630a6 inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f2eacbb6adcee5c9ac94629e2863b3 inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a13f2eacbb6adcee5c9ac94629e2863b3"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new[]</b> (size_t size, MEM_ROOT *mem_root)  throw ()</td></tr>
<tr class="separator:a13f2eacbb6adcee5c9ac94629e2863b3 inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06adbd3404f702994fd10619c41267f0 inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a06adbd3404f702994fd10619c41267f0"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new</b> (size_t size, MEM_ROOT *mem_root)  throw ()</td></tr>
<tr class="separator:a06adbd3404f702994fd10619c41267f0 inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e428ed5b826482a49b1d8a1d246a579 inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a1e428ed5b826482a49b1d8a1d246a579"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete</b> (void *ptr, size_t size)</td></tr>
<tr class="separator:a1e428ed5b826482a49b1d8a1d246a579 inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c08622003a34134a56eccaf2d95c0b9 inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a7c08622003a34134a56eccaf2d95c0b9"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete</b> (void *ptr, MEM_ROOT *mem_root)</td></tr>
<tr class="separator:a7c08622003a34134a56eccaf2d95c0b9 inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c7ed4b5a1eb798f3af463eb84b1e3b inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="ab0c7ed4b5a1eb798f3af463eb84b1e3b"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete[]</b> (void *ptr, MEM_ROOT *mem_root)</td></tr>
<tr class="separator:ab0c7ed4b5a1eb798f3af463eb84b1e3b inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd86b56cecc3919504cf5e1452f2511 inherit pub_static_methods_classSql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a6dd86b56cecc3919504cf5e1452f2511"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete[]</b> (void *ptr, size_t size)</td></tr>
<tr class="separator:a6dd86b56cecc3919504cf5e1452f2511 inherit pub_static_methods_classSql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">This class encapsulates a data change operation. There are three such operations.</p>
<ol type="1">
<li>Insert statements, i.e. INSERT INTO .. VALUES</li>
<li>Update statements. UPDATE <table class="doxtable">
</table>
...</li>
<li>Delete statements. Currently this class is not used for delete statements and thus has not yet been adapted to handle it.</li>
</ol>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000078">Todo:</a></b></dt><dd>Rename this class.</dd></dl>
<p class="">The <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> structure is used by INSERT/REPLACE code. The schema of the row counting by the INSERT/INSERT ... ON DUPLICATE KEY UPDATE code: If a row is inserted then the copied variable is incremented. If a row is updated by the INSERT ... ON DUPLICATE KEY UPDATE and the new data differs from the old one then the copied and the updated variables are incremented. The touched variable is incremented if a row was touched by the update part of the INSERT ... ON DUPLICATE KEY UPDATE no matter whether the row was actually changed or not. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a59ba05cd9704541946914de72db0c818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ba05cd9704541946914de72db0c818">&#9670;&nbsp;</a></span>COPY_INFO() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COPY_INFO::COPY_INFO </td>
          <td>(</td>
          <td class="paramtype">operation_type&#160;</td>
          <td class="paramname"><em>optype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>inserted_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>manage_defaults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_duplicates&#160;</td>
          <td class="paramname"><em>duplicate_handling</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Initializes this data change operation as an SQL <code>INSERT</code> (with all possible syntaxes and variants).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">optype</td><td>The data change operation type. </td></tr>
    <tr><td class="paramname">inserted_columns</td><td><a class="el" href="classList.html">List</a> of columns of the target table which the statement will explicitely fill; <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> must not set a function default for them. NULL means "empty list". </td></tr>
    <tr><td class="paramname">manage_defaults</td><td>Whether this object should manage function defaults. </td></tr>
    <tr><td class="paramname">duplicate_handling</td><td>The policy for handling duplicates. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6b955bc13055dcedc347a75fbb4cbdee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b955bc13055dcedc347a75fbb4cbdee">&#9670;&nbsp;</a></span>COPY_INFO() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COPY_INFO::COPY_INFO </td>
          <td>(</td>
          <td class="paramtype">operation_type&#160;</td>
          <td class="paramname"><em>optype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>inserted_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>inserted_columns2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>manage_defaults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum_duplicates&#160;</td>
          <td class="paramname"><em>duplicates_handling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>escape_character</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment"> Initializes this data change operation as an SQL @c LOAD @c DATA @c
 INFILE.
 Note that this statement has its inserted columns spread over two
 lists:
</pre> <pre class="fragment">     LOAD DATA INFILE a_file
     INTO TABLE a_table (col1, col2)   &lt; first list (col1, col2)
     SET col3=val;                     &lt; second list (col3)
</pre> <pre class="fragment"> @param optype            The data change operation type.
 @param inserted_columns List of columns of the target table which
                         the statement will explicitely fill; COPY_INFO
                         must not set a function default for them. NULL
                         means "empty list".
 @param inserted_columns2 A second list like inserted_columns
 @param manage_defaults   Whether this object should manage function
                          defaults.
 @param ignore_duplicates   Whether duplicate rows are ignored.
 @param duplicates_handling How to handle duplicates.
 @param escape_character    The escape character.
</pre> 
</div>
</div>
<a id="a6f301b4e25739036b3acd99a24c54257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f301b4e25739036b3acd99a24c54257">&#9670;&nbsp;</a></span>COPY_INFO() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COPY_INFO::COPY_INFO </td>
          <td>(</td>
          <td class="paramtype">operation_type&#160;</td>
          <td class="paramname"><em>optype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classItem.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Initializes this data change operation as an SQL <code>UPDATE</code> (multi- or not).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fields</td><td>The column objects that are to be updated. </td></tr>
    <tr><td class="paramname">values</td><td>The values to be assigned to the fields. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>that UPDATE always lists columns, so non-listed columns may need a default thus m_manage_defaults is always true. </dd></dl>

</div>
</div>
<a id="a0489e263f2e297822a61946ea98a9dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0489e263f2e297822a61946ea98a9dc4">&#9670;&nbsp;</a></span>~COPY_INFO()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual COPY_INFO::~COPY_INFO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">This class allocates its memory in a MEM_ROOT, so there's nothing to delete. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae3d8192214b05dc110801ec8dd999edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3d8192214b05dc110801ec8dd999edc">&#9670;&nbsp;</a></span>add_function_default_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COPY_INFO::add_function_default_columns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MY_BITMAP *&#160;</td>
          <td class="paramname"><em>columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Adds the columns that are bound to receive default values from a function (e.g. CURRENT_TIMESTAMP) to the set columns. Uses lazy instantiation of the set of function default columns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">table</td><td>The table on which the operation is performed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">columns</td><td>The function default columns are added to this set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success. </td></tr>
    <tr><td class="paramname">true</td><td>Memory allocation error during lazy instantiation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac7e53a23c1bafc7c6e32d32091c957eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7e53a23c1bafc7c6e32d32091c957eb">&#9670;&nbsp;</a></span>function_defaults_apply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COPY_INFO::function_defaults_apply </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">True if this operation will set some fields to function default result values when invoked on the table.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="classCOPY__INFO.html#ae3d8192214b05dc110801ec8dd999edc">COPY_INFO::add_function_default_columns()</a> must be called prior to invoking this function. </dd></dl>

</div>
</div>
<a id="af9bd54cdb4f21814f6575129550313aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9bd54cdb4f21814f6575129550313aa">&#9670;&nbsp;</a></span>function_defaults_apply_on_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COPY_INFO::function_defaults_apply_on_columns </td>
          <td>(</td>
          <td class="paramtype">MY_BITMAP *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">True if any of the columns set in the bitmap have default functions that may set the column. </p>

</div>
</div>
<a id="a514b233a8aca96ba77cb73459a112b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a514b233a8aca96ba77cb73459a112b77">&#9670;&nbsp;</a></span>get_cached_bitmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MY_BITMAP* COPY_INFO::get_cached_bitmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">The column bitmap which has been cached for this data change operation. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classCOPY__INFO.html#a4b096071d98443d6f9a59aafc6da78a0">COPY_INFO::get_function_default_columns()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The cached bitmap, or NULL if no bitmap was cached. </dd></dl>

</div>
</div>
<a id="a4b096071d98443d6f9a59aafc6da78a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b096071d98443d6f9a59aafc6da78a0">&#9670;&nbsp;</a></span>get_function_default_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COPY_INFO::get_function_default_columns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">This function will, unless done already, calculate and keep the set of function default columns.</p>
<p class="">Function default columns are those columns declared DEFAULT &lt;function&gt; and/or ON UPDATE &lt;function&gt;. These will store the return value of &lt;function&gt; when the relevant operation is applied on the table.</p>
<p class="">Calling this function, without error, is a prerequisite for calling <a class="el" href="classCOPY__INFO.html#a7ce8622f7a089c3b7ad02858539899ba">COPY_INFO::set_function_defaults()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to be used for instantiating the column set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success. </td></tr>
    <tr><td class="paramname">true</td><td>Memory allocation error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a76b958b97160409b58f5ca669014e732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76b958b97160409b58f5ca669014e732">&#9670;&nbsp;</a></span>ignore_last_columns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool COPY_INFO::ignore_last_columns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Tells the object to not manage function defaults for the last 'count' columns of 'table'. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>if success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7ce8622f7a089c3b7ad02858539899ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce8622f7a089c3b7ad02858539899ba">&#9670;&nbsp;</a></span>set_function_defaults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COPY_INFO::set_function_defaults </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Assigns function default values to columns of the supplied table. This function cannot fail, but <a class="el" href="classCOPY__INFO.html#a4b096071d98443d6f9a59aafc6da78a0">COPY_INFO::get_function_default_columns()</a> must be called beforehand.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="classCOPY__INFO.html#ae3d8192214b05dc110801ec8dd999edc">COPY_INFO::add_function_default_columns()</a> must be called prior to invoking this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The table to which columns belong.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is assumed that all columns in this <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> are resolved to the table. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000077">Todo:</a></b></dt><dd>combine this call to update_generated_write_fields() with the one in fill_record() to avoid updating virtual generated fields twice. blobs_need_not_keep_old_value() is called to unset the m_keep_old_value flag. Allowing this flag to remain might interfere with the way the old BLOB value is handled. When update_generated_write_fields() is removed, blobs_need_not_keep_old_value() can also be removed. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a451057d07720b1c973ac2881c8939406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451057d07720b1c973ac2881c8939406">&#9670;&nbsp;</a></span>update_values</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classList.html">List</a>&lt;<a class="el" href="classItem.html">Item</a>&gt;* COPY_INFO::update_values</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Values for UPDATE; needed by write_record() if INSERT with DUP_UPDATE </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="sql__data__change_8h_source.html">sql_data_change.h</a></li>
<li><a class="el" href="sql__data__change_8cc.html">sql_data_change.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
